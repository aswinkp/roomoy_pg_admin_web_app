webpackJsonp([3,14],{225:function(e,t,r){r(333);var n=r(158)(r(276),r(345),"data-v-e87356a0",null);e.exports=n.exports},236:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(237).withParams;t.default=n},237:function(e,t,r){"use strict";function n(e){return("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}function a(e,t){var r=new e({data:{pending:!0,value:!1}});return t.then(function(e){r.pending=!1,r.value=e},function(e){throw r.pending=!1,r.value=!1,e}),r.__isVuelidateAsyncVm=!0,r}function o(e){this.dirty=e;var t=this.proxy,r=e?"$touch":"$reset";this.nestedKeys.forEach(function(e){t[e][r]()})}function i(e){if(y)return y;for(var t=e.constructor;t.super;)t=t.super;return y=t,t}function s(e){e.mixin(g)}Object.defineProperty(t,"__esModule",{value:!0}),t.withParams=t.validationMixin=t.Vuelidate=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=r(239),d=function(e,t,r){return e.reduce(function(e,n){return e[r?r(n):n]=t(n),e},{})},c=function(e,t,r,n){if("function"==typeof r)return r.call(e,t,n);r=Array.isArray(r)?r:r.split(".");for(var a=0;a<r.length;a++){if(!t||"object"!=typeof t)return n;t=t[r[a]]}return void 0===t?n:t},v={$invalid:function(){var e=this.proxy;return this.nestedKeys.some(function(t){return e[t].$invalid})||this.ruleKeys.some(function(t){return!e[t]})},$dirty:function(){if(this.dirty)return!0;if(0===this.nestedKeys.length)return!1;var e=this.proxy;return this.nestedKeys.every(function(t){return e[t].$dirty})},$error:function(){return!this.$pending&&this.$dirty&&this.$invalid},$pending:function(){var e=this,t=this.proxy;return this.nestedKeys.some(function(e){return t[e].$pending})||this.ruleKeys.some(function(t){return e.getRef(t).$pending})},$params:function(){var e=this,t=this.validations;return u({},d(this.nestedKeys,function(e){return t[e]&&t[e].$params||null}),d(this.ruleKeys,function(t){return e.getRef(t).$params}))}},_={$touch:function(){o.call(this,!0)},$reset:function(){o.call(this,!1)},$flattenParams:function(){var e=this.proxy,t=[];for(var r in this.$params)if(this.isNested(r)){for(var n=e[r].$flattenParams(),a=0;a<n.length;a++)n[a].path.unshift(r);t=t.concat(n)}else t.push({path:[],name:r,params:this.$params[r]});return t}},f=Object.keys(v),m=Object.keys(_),p=null,h=function(e){if(p)return p;var t=e.extend({props:["rule","model","parentModel","rootModel"],methods:{runRule:function(t){(0,l.pushParams)();var r=this.rule.call(this.rootModel,this.model,t),o=n(r)?a(e,r):r,i=(0,l.popParams)();return{output:o,params:i&&i.$sub?i.$sub.length>1?i:i.$sub[0]:null}}},computed:{run:function(){var e=this,t=this.parentModel;if(Array.isArray(t)&&t.__ob__){var r=t.__ob__.dep;r.depend();var n=r.constructor.target;if(!this._indirectWatcher){var a=n.constructor;this._indirectWatcher=new a(this.rootModel,function(){return e.runRule(t)},null,{lazy:!0})}if(!this._indirectWatcher.dirty&&this._lastModel===this.model)return this._indirectWatcher.depend(),n.value;this._lastModel=this.model,this._indirectWatcher.evaluate(),this._indirectWatcher.depend()}return this._indirectWatcher?this._indirectWatcher.value:this.runRule(t)},$params:function(){return this.run.params},proxy:function(){var e=this.run.output;return e.__isVuelidateAsyncVm?!!e.value:!!e},$pending:function(){var e=this.run.output;return!!e.__isVuelidateAsyncVm&&e.pending}},render:function(e){return null}}),r=e.extend({data:function(){return{dirty:!1}},mounted:function(){this._watcher.lazy=!0},props:["validations","model","prop","parentModel","rootModel"],methods:u({},_,{getRef:function(e){return this._watcher.dirty&&this._watcher.evaluate(),this.$refs[e]},isNested:function(e){return"function"!=typeof this.validations[e]}}),computed:u({},v,{nestedKeys:function(){return this.keys.filter(this.isNested)},ruleKeys:function(){var e=this;return this.keys.filter(function(t){return!e.isNested(t)})},keys:function(){return Object.keys(this.validations)},proxy:function(){var e=this,t=d(this.keys,function(t){return{enumerable:!0,configurable:!1,get:function(){return e.getRef(t).proxy}}}),r=d(f,function(t){return{enumerable:!0,configurable:!1,get:function(){return e[t]}}}),n=d(m,function(t){return{enumerable:!1,configurable:!1,get:function(){return e[t]}}});return Object.defineProperties({},u({},t,r,n))}}),render:function(e){var t=this;return e("div",[this.nestedKeys.map(function(r){return s(e,t,r)}),this.ruleKeys.map(function(r){return y(e,t,r)})])}}),o=r.extend({methods:{isNested:function(e){return void 0!==this.validations[e]()},getRef:function(e){var t=this;return{get proxy(){return t.validations[e]()||!1}}}},render:function(){return null}}),i=r.extend({computed:{keys:function(){return Object.keys(this.model)},tracker:function(){var e=this,t=this.validations.$trackBy;return t?function(r){return""+c(e.rootModel,e.model[r],t)}:function(e){return""+e}}},methods:{isNested:function(){return!0},getRef:function(e){return this._watcher.dirty&&this._watcher.evaluate(),this.$refs[this.tracker(e)]}},render:function(e){return e("div",h(e,this))}}),s=function(e,t,n){if("$params"===n)return null;if("$each"===n)return e(i,{key:n,ref:n,attrs:{validations:t.validations[n],parentModel:t.parentModel,prop:n,model:t.model,rootModel:t.rootModel}});var a=t.validations[n];if(Array.isArray(a)){var s=t.rootModel;return e(o,{key:n,ref:n,attrs:{validations:d(a,function(e){return function(){return c(s,s.$v,e)}},function(e){return Array.isArray(e)?e.join("."):e}),parentModel:null,prop:n,model:null,rootModel:s}})}return e(r,{key:n,ref:n,attrs:{validations:a,parentModel:t.model,prop:n,model:t.model[n],rootModel:t.rootModel}})},h=function(e,t){var n=t.validations,a=u({},n);delete a.$trackBy;var o={};return t.keys.map(function(n){var i=t.tracker(n);return o.hasOwnProperty(i)?null:(o[i]=!0,e(r,{key:i,ref:i,attrs:{validations:a,prop:n,parentModel:t.model,model:t.model[n],rootModel:t.rootModel}}))})},y=function(e,r,n){return e(t,{key:n,ref:n,attrs:{rule:r.validations[n],parentModel:r.parentModel,model:r.model,rootModel:r.rootModel}})};return p=r},y=null,b=function(e,t){var r=i(e),n=h(r),a=new r({render:function(r){return r(n,{ref:"$v",attrs:{validations:"function"==typeof t?t.call(e):t,parentModel:null,prop:"$v",model:e,rootModel:e}})}});return a.$mount(),a},g={beforeCreate:function(){var e=this,t=this.$options;t.validations&&(t.computed||(t.computed={}),t.computed.$v=function(){return e._vuelidate.$refs.$v.proxy})},created:function(){var e=this.$options.validations;e&&(this._vuelidate=b(this,e))},beforeDestroy:function(){this._vuelidate&&(this._vuelidate.$destroy(),this._vuelidate=null)}};t.Vuelidate=s,t.validationMixin=g,t.withParams=l.withParams,t.default=s},238:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(236),o=n(a);t.default=(0,o.default)({type:"required"},function(e){return Array.isArray(e)?!!e.length:void 0!==e&&null!==e&&!!String(e).length})},239:function(e,t,r){"use strict";function n(){null!==c&&d.push(c),t.target=c={}}function a(){var e=c,r=t.target=c=d.pop()||null;return r&&(Array.isArray(r.$sub)||(r.$sub=[]),r.$sub.push(e)),e}function o(e){if("object"!=typeof e||Array.isArray(e))throw new Error("params must be an object");t.target=c=l({},c,e)}function i(e,t){return s(function(r){return function(){r(e);for(var n=arguments.length,a=Array(n),o=0;o<n;o++)a[o]=arguments[o];return t.apply(this,a)}})}function s(e){var t=e(o);return function(){n();try{for(var e=arguments.length,r=Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.apply(this,r)}finally{a()}}}function u(e,t){return"object"==typeof e&&void 0!==t?i(e,t):s(e)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.pushParams=n,t.popParams=a,t.withParams=u;var d=[],c=t.target=null;t._setTarget=function(e){t.target=c=e}},240:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(236),o=n(a);t.default=(0,o.default)({type:"alpha"},function(e){return void 0===e||null===e||""===e||/^[a-zA-Z]*$/.test(e)})},241:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(236),o=n(a);t.default=(0,o.default)({type:"alphaNum"},function(e){return void 0===e||null===e||""===e||/^[a-zA-Z0-9]*$/.test(e)})},242:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(236),o=n(a);t.default=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.default)({type:"and"},function(){for(var e=this,r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.length>0&&t.reduce(function(t,r){return t&&r.apply(e,n)},!0)})}},243:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(238),o=n(a),i=r(236),s=n(i);t.default=function(e,t){return(0,s.default)({type:"between",min:e,max:t},function(r){return!(0,o.default)(r)||!/\s/.test(r)&&Number(e)<=r&&Number(t)>=r})}},244:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(236),o=n(a);t.default=(0,o.default)({type:"email"},function(e){return void 0===e||null===e||""===e||/(^$|^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/.test(e)})},245:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.and=t.or=t.sameAs=t.required=t.minLength=t.maxLength=t.email=t.between=t.numeric=t.alphaNum=t.alpha=void 0;var a=r(240),o=n(a),i=r(241),s=n(i),u=r(248),l=n(u),d=r(243),c=n(d),v=r(244),_=n(v),f=r(246),m=n(f),p=r(247),h=n(p),y=r(238),b=n(y),g=r(250),w=n(g),$=r(249),M=n($),C=r(242),x=n(C);t.alpha=o.default,t.alphaNum=s.default,t.numeric=l.default,t.between=c.default,t.email=_.default,t.maxLength=m.default,t.minLength=h.default,t.required=b.default,t.sameAs=w.default,t.or=M.default,t.and=x.default},246:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(236),o=n(a);t.default=function(e){return(0,o.default)({type:"maxLength",max:e},function(t){return Array.isArray(t)?0===t.length||t.length<=e:void 0===t||null===t||(""===t||String(t).length<=e)})}},247:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(236),o=n(a);t.default=function(e){return(0,o.default)({type:"minLength",min:e},function(t){return Array.isArray(t)?0===t.length||t.length>=e:void 0===t||null===t||(""===t||String(t).length>=e)})}},248:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(236),o=n(a);t.default=(0,o.default)({type:"numeric"},function(e){return void 0===e||null===e||""===e||/^[0-9]*$/.test(e)})},249:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(236),o=n(a);t.default=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.default)({type:"or"},function(){for(var e=this,r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.length>0&&t.reduce(function(t,r){return t||r.apply(e,n)},!1)})}},250:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(236),o=n(a);t.default=function(e){var t={type:"sameAs",eq:e};return(0,o.default)(t,function(t,r){return t===("function"==typeof e?e.call(this,r):r[e])})}},252:function(e,t,r){e.exports={default:r(253),__esModule:!0}},253:function(e,t,r){var n=r(7),a=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},276:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(292),a=r.n(n),o=r(252),i=r.n(o),s=r(24),u=r(8),l=r(0),d=r.n(l),c=r(1),v=(r.n(c),r(237)),_=r.n(v),f=r(245);r.n(f);u.a.use(_.a),t.default={props:{denormalized_beds:{type:Array,required:!0},selected_room:{type:Object,required:!0},selected_bed:{type:Object,required:!0}},beforeMount:function(){this.fetchData(),this.loaded=!1},data:function(){return{eod:{from:d()().format(),to:d()().endOf("day").format()},loaded:!1,bed:{current_reservation:{reservation_payments:[]}},new_reservation:{name:"",email:"",phone:"",plan:"",amount_per_plan:"",deposit_amount:"",range:{from:"",to:""}},add_payment_form:{amount:"",is_extra:!1,description:""},add_discount_form:{amount:""},vacate_later_form:{date:""}}},validations:{add_payment_form:{amount:{required:f.required}},add_discount_form:{amount:{required:f.required}},vacate_later_form:{date:{required:f.required}},new_reservation:{name:{required:f.required},email:{email:f.email},phone:{required:f.required,numeric:f.numeric,minLength:r.i(f.minLength)(10),maxLength:r.i(f.maxLength)(10)},plan:{required:f.required},amount_per_plan:{required:f.required,numeric:f.numeric},deposit_amount:{required:f.required,numeric:f.numeric},range:{from:{required:f.required}}}},created:function(){},computed:{},methods:{deleteIdentity:function(e){var t=this;u.a.axios.delete(s.a.urls.SITE_URL+"api/v1/reservation-identity/"+e+"/").then(function(r){if(204==r.status){var n=t.bed.current_reservation.reservation_images.filter(function(t){return t.pk!=e});t.bed.current_reservation.reservation_images=n}})},dateformatter:function(e){return e?d()(e).format("DD/MM/YYYY"):"Not Specified"},fetchData:function(){var e=this;c.Loading.show(),u.a.axios.get(s.a.urls.SITE_URL+"api/v1/bed-detail/"+e.$route.params.id+"/").then(function(t){null!=t.data&&(e.bed=t.data),e.loaded=!0,c.Loading.hide()}).catch(function(t){e.error=t,e.loaded=!0,c.Loading.hide(),console.log("Error",t)})},vacateReservationNow:function(e){var t=this;u.a.axios.patch(s.a.urls.SITE_URL+"api/v1/reservation/"+e.pk+"/",{period:function(){var t=JSON.parse(e.period);return t.upper=d()().format("YYYY-MM-DDTHH:mm:ssZ"),i()(t)}(),status:"vacc"}).then(function(e){null!=e.data&&(t.bed.current_reservation=null),t.$refs.vacateModal.close()}).catch(function(e){t.error=e;var r="";for(var n in e.response.data)console.log(n),r+=n+":",r+=e.response.data[n]+"\n";c.Toast.create(r),console.log("Error",e)})},submitVacateLater:function(e){var t=this;this.$v.vacate_later_form.$touch();var r=JSON.parse(e.period);return r.upper=d()(t.vacate_later_form.date).format("YYYY-MM-DDTHH:mm:ssZ"),r.upper<r.lower?void c.Toast.create("Vacation should be greater than Occupied date"):this.$v.vacate_later_form.$error?void c.Toast.create("Please review fields again."):void u.a.axios.patch(s.a.urls.SITE_URL+"api/v1/reservation/"+e.pk+"/",{period:function(){var r=JSON.parse(e.period);return r.upper=d()(t.vacate_later_form.date).format("YYYY-MM-DDTHH:mm:ssZ"),i()(r)}()}).then(function(e){null!=e.data&&(t.bed.current_reservation=e.data),t.$refs.vacateLaterModal.close(),t.$refs.vacateModal.close()}).catch(function(e){if(t.error=e,e.response.data.non_field_errors){var r="";for(var n in e.response.data.non_field_errors)r+=e.response.data.non_field_errors[n]+"\n";c.Toast.create(r)}})},submitPayment:function(e){if(this.$v.add_payment_form.$touch(),this.$v.add_payment_form.$error)return void c.Toast.create("Please review fields again.");var t={amount:this.add_payment_form.amount,is_extra:this.add_payment_form.is_extra,description:this.add_payment_form.description,reservation:e.pk},r=this;u.a.axios.post(s.a.urls.SITE_URL+"api/v1/payment/",t).then(function(e){null!=e.data&&(r.fetchData(),r.$refs.addPaymentModal.close(),r.add_payment_form={amount:"",is_extra:!1,description:""})}).catch(function(e){r.error=e,console.log("Error",e)})},submitDiscount:function(e){if(this.$v.add_discount_form.$touch(),this.$v.add_discount_form.$error)return void c.Toast.create("Please review fields again.");var t={amount:this.add_discount_form.amount,reservation:e.pk,is_discount:!0},r=this;u.a.axios.post(s.a.urls.SITE_URL+"api/v1/payment/",t).then(function(e){null!=e.data&&(r.fetchData(),r.$refs.addDiscountModal.close(),r.add_discount_form.amount="")}).catch(function(e){r.error=e;var t="";for(var n in e.response.data)console.log(n),t+=n+":",t+=e.response.data[n]+"\n";c.Toast.create(t),console.log("Error",e)})},submitReservationForm:function(e){var t,r=this;if(this.$v.new_reservation.$touch(),this.$v.new_reservation.$error)return void c.Toast.create("Please review fields again.");var n=d()(r.new_reservation.range.from),o=d()(r.new_reservation.range.to);if("DA"==this.new_reservation.plan&&isNaN(n.diff(o,"days")))return void c.Toast.create("To Date cant be blank for Daily Plan.");if("DA"==this.new_reservation.plan&&Math.abs(n.diff(o,"days"))>30)return void c.Toast.create("Daily plan can't be more than 30 days");var l=(t={bed:e,name:this.new_reservation.name,phone_number:this.new_reservation.phone,email_id:this.new_reservation.email,plan:this.new_reservation.plan,amount_per_plan:this.new_reservation.amount_per_plan},a()(t,"amount_per_plan",this.new_reservation.amount_per_plan),a()(t,"deposit_amount",this.new_reservation.deposit_amount),a()(t,"status","act"),a()(t,"period",function(){var e=r.new_reservation.range.from,t=null;if(""!=r.new_reservation.range.to)var t=r.new_reservation.range.to;var n={lower:e,upper:t,bounds:"[)"};return i()(n)}()),t);u.a.axios.post(s.a.urls.SITE_URL+"api/v1/reservation/",l).then(function(e){null!=e.data&&(r.fetchData(),r.new_reservation={name:"",email:"",phone:"",plan:"",amount_per_plan:"",deposit_amount:"",range:{from:"",to:""}},r.$refs.addReservationModal.close())}).catch(function(e){if(r.error=e,e.response.data.non_field_errors){var t="";for(var n in e.response.data.non_field_errors)t+=e.response.data.non_field_errors[n]+"\n";c.Toast.create(t)}console.log("Error",e)})},push_to_bed_reservations:function(){this.$router.push({name:"bed-reservations",params:{id:this.$route.params.id}})}}}},289:function(e,t,r){e.exports={default:r(296),__esModule:!0}},292:function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(289),o=n(a);t.default=function(e,t,r){return t in e?(0,o.default)(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},296:function(e,t,r){r(306);var n=r(7).Object;e.exports=function(e,t,r){return n.defineProperty(e,t,r)}},306:function(e,t,r){var n=r(25);n(n.S+n.F*!r(9),"Object",{defineProperty:r(11).f})},321:function(e,t,r){t=e.exports=r(222)(),t.push([e.i,".form-error-message[data-v-e87356a0]{color:red;font-size:12px}.m3[data-v-e87356a0]{margin:3px}.m10[data-v-e87356a0]{margin:10px}",""])},333:function(e,t,r){var n=r(321);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);r(223)("79b1fcd1",n,!0)},345:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"toolbar",slot:"header"},[r("button",{staticClass:"hide-on-drawer-visible",on:{click:function(t){e.$emit("openDrawer")}}},[r("i",[e._v("menu")])]),e._v(" "),r("q-toolbar-title",{attrs:{padding:1}},[e._v("\n        RoomoY\n      ")])],1),e._v(" "),e.loaded?r("div",{staticClass:"layout-padding layout-view"},[r("p",{staticClass:"caption"}),r("h5",[e._v("Bed Details")]),e._v(" "),r("p"),e._v(" "),r("p",[e._v("Status:"),e.bed.current_reservation?r("span",[e._v("Occupied\n    "),r("br"),e._v("\n    Payment:"),e.bed.current_reservation&&e.bed.current_reservation.amount_to_pay<1?r("span",[e._v("Paid")]):r("span",[e._v("Not Paid")])]):r("span",[e._v("Vacant")])]),e._v(" "),e.bed.current_reservation&&e.bed.current_reservation.pk?r("div",{staticClass:"card"},[r("div",{staticClass:"card-title bg-primary text-white"},[e._v("\n        Current Reservation\n      ")]),e._v(" "),r("div",{staticClass:"card-content card-force-top-padding"},[r("span",[e._v("Name: "+e._s(e.bed.current_reservation.name)+" \n        "),r("big",{on:{click:function(t){e.$refs.reservationIdModal.open()}}},[e.bed.current_reservation.reservation_images.length?r("i",{staticClass:"pull-right text-positive"},[e._v("collections")]):r("i",{staticClass:"pull-right text-negative"},[e._v("collections")])]),e._v(" "),r("br"),e._v(" Phone Number: "+e._s(e.bed.current_reservation.phone_number))],1),e._v(" "),r("br"),e._v(" Plan: "),"MO"==e.bed.current_reservation.plan?r("span",[e._v("Monthly")]):r("span",[e._v("Daily")]),e._v(" "),r("br"),e._v("From: "),r("span",[e._v(e._s(e.dateformatter(JSON.parse(e.bed.current_reservation.period).lower)))]),e._v("\n          To: "),r("span",[e._v(e._s(e.dateformatter(JSON.parse(e.bed.current_reservation.period).upper)))]),r("br"),e._v("\n        Amount Per Plan: "),r("span",[e._v(e._s(e.bed.current_reservation.amount_per_plan))]),r("br"),e._v(" "),e.bed.current_reservation.amount_to_pay>-1?r("span",[e._v("Amount To Pay: "+e._s(e.bed.current_reservation.amount_to_pay))]):r("span",[e._v("Amount Paid in Advance: "+e._s(e.bed.current_reservation.amount_to_pay*-1))]),e._v(" "),r("div",{staticClass:"row"},[r("button",{staticClass:"primary width-1of2 m3",on:{click:function(t){e.$refs.addPaymentModal.open()}}},[e._v("Add Payment")]),e._v(" "),r("button",{staticClass:"primary width-1of2 m3",on:{click:function(t){e.$refs.addDiscountModal.open()}}},[e._v("Add Discount")])]),e._v(" "),r("div",{staticClass:"row"},[r("button",{staticClass:"primary width-1of2 m3",on:{click:function(t){e.$refs.allPaymentsModal.open()}}},[e._v("All Payments")]),e._v(" "),r("button",{staticClass:"negative width-1of2 m3",on:{click:function(t){e.$refs.vacateModal.open()}}},[e._v("Vacate")])])]),e._v(" "),r("q-modal",{ref:"reservationIdModal",attrs:{"content-css":{minWidth:"80vw",minHeight:"80vh",padding:"50px"}}},[r("q-layout",[r("div",{staticClass:"toolbar",slot:"header"},[r("button",{on:{click:function(t){e.$refs.reservationIdModal.close()}}},[r("i",[e._v("keyboard_arrow_left")])]),e._v(" "),r("q-toolbar-title",{attrs:{padding:1}},[e._v("\n              Identities\n            ")])],1),e._v(" "),r("div",{staticClass:"layout-view layout-padding"},[e.bed.current_reservation.reservation_images.length?e._e():r("p",[e._v("No Images Uploaded")]),e._v(" "),e._l(e.bed.current_reservation.reservation_images,function(t){return r("div",[r("img",{staticStyle:{"max-width":"100%"},attrs:{src:t.image}}),e._v(" "),r("button",{staticClass:"negative",on:{click:function(r){e.deleteIdentity(t.pk)}}},[e._v("delete")])])})],2)])],1),e._v(" "),r("q-modal",{ref:"addDiscountModal",staticClass:"minimized",attrs:{"content-css":{padding:"20px"}}},[r("div",{staticClass:"floating-label"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.add_discount_form.amount,expression:"add_discount_form.amount",modifiers:{number:!0}}],staticClass:"full-width",class:{"has-error":e.$v.add_payment_form.amount.$error},attrs:{type:"number",required:""},domProps:{value:e.add_discount_form.amount},on:{input:[function(t){t.target.composing||(e.add_discount_form.amount=e._n(t.target.value))},function(t){e.$v.add_payment_form.amount.$touch()}],blur:function(t){e.$forceUpdate()}}}),e._v(" "),r("label",[e._v("Amount")])]),e._v(" "),e.$v.add_discount_form.amount.required?e._e():r("span",{staticClass:"form-error-message row"},[e._v("Field is required")]),r("br"),e._v(" "),r("div",{staticClass:"row"},[r("button",{staticClass:"primary width-1of2 m3",on:{click:function(t){e.submitDiscount(e.bed.current_reservation)}}},[e._v("Add")]),e._v(" "),r("button",{staticClass:"tertiary width-1of2 m3",on:{click:function(t){e.$refs.addDiscountModal.close()}}},[e._v("Cancel")])])]),e._v(" "),r("q-modal",{ref:"addPaymentModal",staticClass:"minimized",attrs:{"content-css":{padding:"20px"}}},[r("div",{staticClass:"floating-label"},[r("input",{directives:[{name:"model",rawName:"v-model.number",value:e.add_payment_form.amount,expression:"add_payment_form.amount",modifiers:{number:!0}}],staticClass:"full-width",class:{"has-error":e.$v.add_payment_form.amount.$error},attrs:{type:"number",required:""},domProps:{value:e.add_payment_form.amount},on:{input:[function(t){t.target.composing||(e.add_payment_form.amount=e._n(t.target.value))},function(t){e.$v.add_payment_form.amount.$touch()}],blur:function(t){e.$forceUpdate()}}}),e._v(" "),r("label",[e._v("Amount")])]),e._v(" "),e.$v.add_payment_form.amount.required?e._e():r("span",{staticClass:"form-error-message row"},[e._v("Field is required")]),r("br"),e._v(" "),r("label",[r("q-checkbox",{model:{value:e.add_payment_form.is_extra,callback:function(t){e.add_payment_form.is_extra=t},expression:"add_payment_form.is_extra"}}),e._v("\n          Extra (Deduction, Maintenance)\n        ")],1),e._v(" "),e.add_payment_form.is_extra?r("div",{staticClass:"floating-label"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.add_payment_form.description,expression:"add_payment_form.description"}],staticClass:"full-width",attrs:{required:""},domProps:{value:e.add_payment_form.description},on:{input:function(t){t.target.composing||(e.add_payment_form.description=t.target.value)}}}),e._v(" "),r("label",[e._v("Description")])]):e._e(),e._v(" "),r("br"),r("br"),e._v(" "),r("div",{staticClass:"row"},[r("button",{staticClass:"primary width-1of2 m3",on:{click:function(t){e.submitPayment(e.bed.current_reservation)}}},[e._v("Add")]),e._v(" "),r("button",{staticClass:"tertiary width-1of2 m3",on:{click:function(t){e.$refs.addPaymentModal.close()}}},[e._v("Cancel")])])]),e._v(" "),r("q-modal",{ref:"vacateModal",attrs:{position:"bottom","content-css":{padding:"20px"}}},[r("p",[e._v("Are you sure you want to vacate ?")]),e._v(" "),r("div",{staticClass:"row"},[r("button",{staticClass:"tertiary width-1of1 m10",on:{click:function(t){e.$refs.vacateModal.close()}}},[e._v("Cancel")])]),e._v(" "),r("div",{staticClass:"row"},[r("button",{staticClass:"negative width-1of2 m10",on:{click:function(t){e.vacateReservationNow(e.bed.current_reservation)}}},[e._v("Vacate Now")]),e._v(" "),r("button",{staticClass:"negative width-1of2 m10",on:{click:function(t){e.$refs.vacateLaterModal.open()}}},[e._v("Vacate Later")])])]),e._v(" "),r("q-modal",{ref:"vacateLaterModal",staticClass:"minimized",attrs:{"content-css":{padding:"10px"}}},[r("div",{staticClass:"floating-label"},["DA"==e.bed.current_reservation.plan?r("q-datetime",{staticClass:"full-width",attrs:{label:"Date",type:"datetime"},model:{value:e.vacate_later_form.date,callback:function(t){e.vacate_later_form.date=t},expression:"vacate_later_form.date"}}):r("q-datetime",{staticClass:"full-width",attrs:{label:"Date",type:"date"},model:{value:e.vacate_later_form.date,callback:function(t){e.vacate_later_form.date=t},expression:"vacate_later_form.date"}})],1),e._v(" "),e.$v.vacate_later_form.date.required?e._e():r("span",{staticClass:"form-error-message row"},[e._v("Field is required")]),r("br"),e._v(" "),r("div",{staticClass:"row"},[r("button",{staticClass:"negative width-1of2 m3",on:{click:function(t){e.submitVacateLater(e.bed.current_reservation)}}},[e._v("Save")]),e._v(" "),r("button",{staticClass:"tertiary width-1of2 m3",on:{click:function(t){e.$refs.vacateLaterModal.close()}}},[e._v("Cancel")])])]),e._v(" "),r("q-modal",{ref:"allPaymentsModal",attrs:{"content-css":{minWidth:"80vw",minHeight:"80vh"}}},[r("q-layout",[r("div",{staticClass:"toolbar",slot:"header"},[r("button",{on:{click:function(t){e.$refs.allPaymentsModal.close()}}},[r("i",[e._v("keyboard_arrow_left")])]),e._v(" "),r("q-toolbar-title",{attrs:{padding:1}},[e._v("\n              All Payments\n            ")])],1),e._v(" "),r("div",{staticClass:"layout-view"},[r("div",{staticClass:"list"},e._l(e.bed.current_reservation.reservation_payment,function(t){return r("div",{staticClass:"item multiple-lines"},[r("div",{staticClass:"item-content"},[r("div",[e._v("Rs. "+e._s(t.amount))]),e._v(" "),t.is_discount?r("div",[e._v("Discount")]):e._e(),e._v(" "),t.is_extra?r("div",[e._v("Extra Payment")]):e._e(),e._v(" "),t.description?r("div",[e._v("Description: "+e._s(t.description))]):e._e(),e._v(" "),r("div",[e._v(" Date: "+e._s(e.dateformatter(t.date)))])])])}))])])],1)],1):r("div",[e._v("\n      No current reservations.\n      "),r("br"),e._v(" "),r("br")]),e._v(" "),r("button",{staticClass:"primary full-width m10",on:{click:e.push_to_bed_reservations}},[e._v("See All Reservations")]),e._v(" "),r("button",{staticClass:"primary full-width m10",on:{click:function(t){e.$refs.addReservationModal.open()}}},[e._v("Add Reservation")]),r("br"),e._v(" "),r("q-modal",{ref:"addReservationModal",attrs:{"content-css":{minWidth:"80vw",minHeight:"80vh"}}},[r("q-layout",[r("div",{staticClass:"toolbar",slot:"header"},[r("button",{on:{click:function(t){e.$refs.addReservationModal.close()}}},[r("i",[e._v("keyboard_arrow_left")])]),e._v(" "),r("q-toolbar-title",{attrs:{padding:1}},[e._v("\n            Add Reservation\n          ")])],1),e._v(" "),r("div",{staticClass:"layout-view layout-padding"},[r("div",{staticClass:"floating-label"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.new_reservation.name,expression:"new_reservation.name"}],staticClass:"full-width",attrs:{required:""},domProps:{value:e.new_reservation.name},on:{input:[function(t){t.target.composing||(e.new_reservation.name=t.target.value)},function(t){e.$v.new_reservation.name.$touch()}]}}),e._v(" "),r("label",[e._v("Name")])]),e._v(" "),e.$v.new_reservation.name.required?e._e():r("span",{staticClass:"form-error-message row"},[e._v("Name is required")]),e._v(" "),r("div",{staticClass:"floating-label"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.new_reservation.phone,expression:"new_reservation.phone"}],staticClass:"full-width",attrs:{type:"number",required:""},domProps:{value:e.new_reservation.phone},on:{input:[function(t){t.target.composing||(e.new_reservation.phone=t.target.value)},function(t){e.$v.new_reservation.phone.$touch()}],blur:function(t){e.$forceUpdate()}}}),e._v(" "),r("label",[e._v("Phone")])]),e._v(" "),e.$v.new_reservation.phone.required&&e.$v.new_reservation.phone.minLength&&e.$v.new_reservation.phone.maxLength?e._e():r("span",{staticClass:"form-error-message row"},[e._v("Enter valid 10-digit Mobile Number")]),e._v(" "),r("div",{staticClass:"floating-label"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.new_reservation.email,expression:"new_reservation.email"}],staticClass:"full-width",attrs:{required:""},domProps:{value:e.new_reservation.email},on:{input:function(t){t.target.composing||(e.new_reservation.email=t.target.value)}}}),e._v(" "),r("label",[e._v("Email")])]),e._v(" "),e.$v.new_reservation.email.email?e._e():r("span",{staticClass:"form-error-message row"},[e._v("Please enter valid email.")]),e._v(" "),r("div",{staticClass:"row"},[r("span",{staticClass:"width-1of3"},[e._v("Plan")]),e._v(" "),r("label",{staticClass:"width-1of3"},[r("q-radio",{attrs:{val:"DA"},model:{value:e.new_reservation.plan,callback:function(t){e.new_reservation.plan=t},expression:"new_reservation.plan"}}),e._v("\n              Daily\n            ")],1),e._v(" "),r("label",{staticClass:"width-1of3"},[r("q-radio",{attrs:{val:"MO"},model:{value:e.new_reservation.plan,callback:function(t){e.new_reservation.plan=t},expression:"new_reservation.plan"}}),e._v("\n              Monthly\n            ")],1)]),e._v(" "),e.$v.new_reservation.plan.required?e._e():r("span",{staticClass:"form-error-message row"},[e._v("Plan is required")]),e._v(" "),r("div",{staticClass:"floating-label"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.new_reservation.amount_per_plan,expression:"new_reservation.amount_per_plan"}],staticClass:"full-width",attrs:{type:"number",required:""},domProps:{value:e.new_reservation.amount_per_plan},on:{input:function(t){t.target.composing||(e.new_reservation.amount_per_plan=t.target.value)},blur:function(t){e.$forceUpdate()}}}),e._v(" "),r("label",[e._v("Amount per plan")])]),e._v(" "),e.$v.new_reservation.amount_per_plan.required&&e.$v.new_reservation.amount_per_plan.numeric?e._e():r("span",{staticClass:"form-error-message row"},[e._v("Please enter valid amount.")]),e._v(" "),r("div",{staticClass:"floating-label"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.new_reservation.deposit_amount,expression:"new_reservation.deposit_amount"}],staticClass:"full-width",attrs:{type:"number",required:""},domProps:{value:e.new_reservation.deposit_amount},on:{input:function(t){t.target.composing||(e.new_reservation.deposit_amount=t.target.value)},blur:function(t){e.$forceUpdate()}}}),e._v(" "),r("label",[e._v("Deposit Amount")])]),e._v(" "),e.$v.new_reservation.deposit_amount.required&&e.$v.new_reservation.deposit_amount.numeric?e._e():r("span",{staticClass:"form-error-message row"},[e._v("Please enter valid amount.")]),e._v(" "),r("div",[e._v("From Date and To Date")]),e._v(" "),r("div",{staticClass:"row"},["DA"==e.new_reservation.plan?r("q-datetime-range",{staticClass:"full-width",attrs:{type:"datetime"},on:{input:function(t){e.$v.new_reservation.range.from.$touch()}},model:{value:e.new_reservation.range,callback:function(t){e.new_reservation.range=t},expression:"new_reservation.range"}}):r("q-datetime-range",{staticClass:"full-width",attrs:{type:"date"},on:{input:function(t){e.$v.new_reservation.range.from.$touch()}},model:{value:e.new_reservation.range,callback:function(t){e.new_reservation.range=t},expression:"new_reservation.range"}})],1),e._v(" "),e.$v.new_reservation.range.from.required?e._e():r("span",{staticClass:"form-error-message row"},[e._v("From date is required")]),e._v(" "),r("div",{staticClass:"row"},[r("button",{staticClass:"primary width-1of2 m10",on:{click:function(t){e.submitReservationForm(e.bed.pk)}}},[e._v("Add Reservation")]),e._v(" "),r("button",{staticClass:"tertiary width-1of2 m10",on:{click:function(t){e.$refs.addReservationModal.close()}}},[e._v("Cancel")])])])])],1)],1):e._e()])},staticRenderFns:[]}}});