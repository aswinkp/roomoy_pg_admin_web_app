webpackJsonp([22,27,36],{228:function(t,a,e){e(289);var n=e(159)(e(286),e(290),null,null);t.exports=n.exports},229:function(t,a,e){e(300);var n=e(159)(e(298),e(301),"data-v-60776d56",null);t.exports=n.exports},286:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e(0),o=e.n(n);a.default={props:{date_prop:{default:function(){return new Date}}},beforeMount:function(){this.date=o()(this.date_prop).startOf("month")},data:function(){return{date:null}},computed:{full_month:function(){return this.date.format("MMMM")},full_year:function(){return this.date.format("YY")}},methods:{prev:function(){this.date=o()(this.date).subtract(1,"months"),this.$emit("input",this.date)},next:function(){this.date=o()(this.date).add(1,"months"),this.$emit("input",this.date)}}}},288:function(t,a,e){a=t.exports=e(225)(),a.push([t.i,"",""])},289:function(t,a,e){var n=e(288);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e(226)("544afd10",n,!0)},290:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row flex justify-around"},[e("i",{staticStyle:{"font-size":"24px",padding:"21px 20px"},on:{click:t.prev}},[t._v("keyboard_arrow_left")]),t._v(" "),e("span",{staticStyle:{"font-size":"24px",padding:"20px"}},[t._v(t._s(t.full_month)+" ' "+t._s(t.full_year))]),t._v(" "),e("i",{staticStyle:{"font-size":"24px",padding:"21px 20px"},on:{click:t.next}},[t._v("keyboard_arrow_right")])])},staticRenderFns:[]}},291:function(t,a,e){t.exports={default:e(294),__esModule:!0}},294:function(t,a,e){e(296);var n=e(8).Object;t.exports=function(t,a){return n.create(t,a)}},296:function(t,a,e){var n=e(25);n(n.S,"Object",{create:e(160)})},298:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e(291),o=e.n(n),s=e(24),i=e(5),r=e(1),l=(e.n(r),e(0)),d=e.n(l),c=e(228),u=e.n(c);a.default={components:{MonthNavigator:u.a},props:{showPaymentType:{type:Boolean,default:!0},paymentlist:{type:Array,default:[]},showNavigator:{default:!1,type:Boolean}},data:function(){return{total:0}},computed:{daily_incomes:function(){var t=this;return this.total=0,this.paymentlist.reduce(function(a,e){return a[d()(e.date).format("Do MMMM'YY")]=a[d()(e.date).format("Do MMMM'YY")]||{date:d()(e.date).format("Do MMMM'YY"),incomes:[],total:0},a[d()(e.date).format("Do MMMM'YY")].incomes.push(e),a[d()(e.date).format("Do MMMM'YY")].total+=parseFloat(e.amount),t.total+=e.amount,a},o()(null))},selected_pg_id:function(){return r.LocalStorage.get.item("pg_for_dashboard")}},methods:{fetch_data:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=this;null==t&&null==a&&(t=d()().startOf("month").toISOString(),a=d()().endOf("month").toISOString()),i.a.axios.get(s.a.urls.SITE_URL+"api/v1/payment-detail/?pg="+e.selected_pg_id+"&start="+t+"&end="+a+"&to_pay=false&discount=false").then(function(t){null!=t.data&&(e.paymentlist=t.data),e.loaded=!0}).catch(function(t){console.log("Error",t)})},openPaymentListModal:function(){this.$refs.allPaymentsModal.open()},dateformatter:function(t){return t?d()(t).format("DD/MM/YYYY"):"Not Specified"},change_month:function(t){this.fetch_data(t.startOf("month").toISOString(),t.endOf("month").toISOString())}}}},299:function(t,a,e){a=t.exports=e(225)(),a.push([t.i,".reservation_name[data-v-60776d56]{margin:5px 0}",""])},300:function(t,a,e){var n=e(299);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);e(226)("67c60432",n,!0)},301:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("q-modal",{ref:"allPaymentsModal",attrs:{"content-css":{minWidth:"80vw",minHeight:"80vh"}}},[e("q-layout",[e("div",{staticClass:"toolbar",slot:"header"},[e("button",{on:{click:function(a){t.$refs.allPaymentsModal.close()}}},[e("i",[t._v("arrow_back")])]),t._v(" "),e("q-toolbar-title",{attrs:{padding:1}},[t._v("\n          All Payments\n        ")])],1),t._v(" "),e("div",{staticClass:"layout-view"},[t.showNavigator?e("div",[e("MonthNavigator",{on:{input:t.change_month}}),t._v(" "),e("div",{staticClass:"cashflow_total log_btn text-primary"},[t._v("\n            ₹ "+t._s(t.total)+"\n          ")])],1):t._e(),t._v(" "),t._l(t.daily_incomes,function(a){return e("div",{},[e("div",{staticClass:"date_separator flex justify-between"},[e("span",{},[t._v(t._s(a.date))]),e("span",{staticClass:"pull-right"},[t._v("₹ "+t._s(a.total))])]),t._v(" "),t._l(a.incomes,function(a){return e("div",{staticClass:"border reserve_item"},[e("div",{staticClass:"item-content"},[e("div",{staticClass:"row"},[e("div",{staticClass:"column width-1of3"},[t.showPaymentType?e("small",{staticClass:"text-faded"},[a.to_pay?e("div",{staticClass:"row"},[t._v("To Pay")]):a.is_discount?e("div",{staticClass:"row"},[t._v("Discount")]):e("div",{staticClass:"row"},[t._v("Payment")])]):t._e(),t._v(" "),e("div",{staticClass:"row text-bold ellipsis reservation_name"},[t._v(t._s(a.reservation_name))]),t._v(" "),e("div",{staticClass:"row"},[e("span",{staticClass:"token"},[t._v(t._s(a.room_name)),a.room_inner_name?e("span",[t._v("-"+t._s(a.room_inner_name))]):t._e()])]),t._v(" "),e("div",{staticClass:"row"},[t._v(t._s(a.description))])]),t._v(" "),e("div",{staticClass:"column width-1of3"},[e("div",{staticClass:"reserve_date ellipsis"},[t._v(t._s(a.collected_by_name))])]),t._v(" "),e("div",{staticClass:"column width-1of3 btn_wrap"},[e("div",{staticClass:"log_btn"},[t._v("₹"+t._s(a.amount<0?a.amount*-1:a.amount))])])])])])})],2)})],2)])],1)],1)},staticRenderFns:[]}}});