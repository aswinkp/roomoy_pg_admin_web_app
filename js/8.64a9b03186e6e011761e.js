webpackJsonp([8,35],{248:function(e,t,a){a(438);var n=a(159)(a(369),a(467),null,null);e.exports=n.exports},260:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.regex=t.ref=t.len=t.req=t.withParams=void 0;var r=a(283),o=n(r);t.withParams=o.default;var i=t.req=function(e){if(Array.isArray(e))return!!e.length;if(void 0===e||null===e||e===!1)return!1;if(e instanceof Date)return!isNaN(e.getTime());if("object"==typeof e){for(var t in e)return!0;return!1}return!!String(e).length};t.len=function(e){return Array.isArray(e)?e.length:"object"==typeof e?Object.keys(e).length:String(e).length},t.ref=function(e,t,a){return"function"==typeof e?e.call(t,a):a[e]},t.regex=function(e,t){return(0,o.default)({type:e},function(e){return!i(e)||t.test(e)})}},261:function(e,t,a){"use strict";function n(){null!==d&&c.push(d),t.target=d={}}function r(){var e=d,a=t.target=d=c.pop()||null;return a&&(Array.isArray(a.$sub)||(a.$sub=[]),a.$sub.push(e)),e}function o(e){if("object"!=typeof e||Array.isArray(e))throw new Error("params must be an object");t.target=d=u({},d,e)}function i(e,t){return s(function(a){return function(){a(e);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.apply(this,r)}})}function s(e){var t=e(o);return function(){n();try{for(var e=arguments.length,a=Array(e),o=0;o<e;o++)a[o]=arguments[o];return t.apply(this,a)}finally{r()}}}function l(e,t){return"object"==typeof e&&void 0!==t?i(e,t):s(e)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.pushParams=n,t.popParams=r,t.withParams=l;var c=[],d=t.target=null;t._setTarget=function(e){t.target=d=e}},262:function(e,t,a){"use strict";function n(e){return"function"==typeof e}function r(e){return null!==e&&("object"==typeof e||n(e))}function o(e){return r(e)&&n(e.then)}function i(e,t){var a=new e({data:{p:!0,v:!1}});return t.then(function(e){a.p=!1,a.v=e},function(e){throw a.p=!1,a.v=!1,e}),a[m]=!0,a}function s(e){this.dirty=e;var t=this.proxy,a=e?"$touch":"$reset";this.nestedKeys.forEach(function(e){t[e][a]()})}function l(e){if(M)return M;for(var t=e.constructor;t.super;)t=t.super;return M=t,t}function u(e){e.mixin(k)}Object.defineProperty(t,"__esModule",{value:!0}),t.withParams=t.validationMixin=t.Vuelidate=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},d=a(282),_=a(261),v=function(){return null},f=function(e,t,a){return e.reduce(function(e,n){return e[a?a(n):n]=t(n),e},{})},p=function(e,t,a,n){if("function"==typeof a)return a.call(e,t,n);a=Array.isArray(a)?a:a.split(".");for(var r=0;r<a.length;r++){if(!t||"object"!=typeof t)return n;t=t[a[r]]}return void 0===t?n:t},m="__isVuelidateAsyncVm",h={$invalid:function(){var e=this,t=this.proxy;return this.nestedKeys.some(function(t){return e.refProxy(t).$invalid})||this.ruleKeys.some(function(e){return!t[e]})},$dirty:function(){var e=this;return!!this.dirty||0!==this.nestedKeys.length&&this.nestedKeys.every(function(t){return e.refProxy(t).$dirty})},$error:function(){return this.$dirty&&!this.$pending&&this.$invalid},$pending:function(){var e=this;return this.ruleKeys.some(function(t){return e.getRef(t).$pending})||this.nestedKeys.some(function(t){return e.refProxy(t).$pending})},$params:function(){var e=this,t=this.validations;return c({},f(this.nestedKeys,function(e){return t[e]&&t[e].$params||null}),f(this.ruleKeys,function(t){return e.getRef(t).$params}))}},b={$touch:function(){s.call(this,!0)},$reset:function(){s.call(this,!1)},$flattenParams:function(){var e=this.proxy,t=[];for(var a in this.$params)if(this.isNested(a)){for(var n=e[a].$flattenParams(),r=0;r<n.length;r++)n[r].path.unshift(a);t=t.concat(n)}else t.push({path:[],name:a,params:this.$params[a]});return t}},g=Object.keys(h),y=Object.keys(b),w=null,C=function(e){if(w)return w;var t=e.extend({beforeCreate:function(){this._vval=null},beforeDestroy:function(){this._vval&&(0,d.patchChildren)(this._vval)},methods:{getModel:function(){return this.lazyModel?this.lazyModel(this.prop):this.model},getModelKey:function(e){var t=this.getModel();if(t)return t[e]}},computed:{refs:function e(){var t=this._vval;this._vval=this.children,(0,d.patchChildren)(t,this._vval);var e={};return this._vval.forEach(function(t){e[t.key]=t.vm}),e}}}),a=t.extend({data:function(){return{rule:null,lazyModel:null,model:null,lazyParentModel:null,rootModel:null}},methods:{runRule:function(t){var a=this.getModel();(0,_.pushParams)();var n=this.rule.call(this.rootModel,a,t),r=o(n)?i(e,n):n,s=(0,_.popParams)();return{output:r,params:s&&s.$sub?s.$sub.length>1?s:s.$sub[0]:null}}},computed:{run:function(){return this.runRule(this.lazyParentModel())},$params:function(){return this.run.params},proxy:function(){var e=this.run.output;return e[m]?!!e.v:!!e},$pending:function(){var e=this.run.output;return!!e[m]&&e.p}}}),n=t.extend({data:function(){return{dirty:!1,validations:null,lazyModel:null,model:null,prop:null,lazyParentModel:null,rootModel:null}},methods:c({},b,{refProxy:function(e){return this.getRef(e).proxy},getRef:function(e){return this.refs[e]},isNested:function(e){return"function"!=typeof this.validations[e]}}),computed:c({},h,{nestedKeys:function(){return this.keys.filter(this.isNested)},ruleKeys:function(){var e=this;return this.keys.filter(function(t){return!e.isNested(t)})},keys:function(){return Object.keys(this.validations).filter(function(e){return"$params"!==e})},proxy:function(){var e=this,t=f(this.keys,function(t){return{enumerable:!0,configurable:!1,get:function(){return e.refProxy(t)}}}),a=f(g,function(t){return{enumerable:!0,configurable:!1,get:function(){return e[t]}}}),n=f(y,function(t){return{enumerable:!1,configurable:!1,get:function(){return e[t]}}});return Object.defineProperties({},c({},t,a,n))},children:function(){var e=this;return[].concat(this.nestedKeys.map(function(t){return u(e,t)}),this.ruleKeys.map(function(t){return C(e,t)})).filter(Boolean)}})}),s=n.extend({methods:{isNested:function(e){return void 0!==this.validations[e]()},getRef:function(e){var t=this;return{get proxy(){return t.validations[e]()||!1}}}}}),l=n.extend({computed:{keys:function(){var e=this.getModel();return r(e)?Object.keys(e):[]},tracker:function(){var e=this,t=this.validations.$trackBy;return t?function(a){return""+p(e.rootModel,e.getModelKey(a),t)}:function(e){return""+e}},eagerParentModel:function(){var e=this.lazyParentModel();return function(){return e}},children:function(){var e=this,t=this.validations,a=this.getModel(),r=c({},t);delete r.$trackBy;var o={};return this.keys.map(function(t){var i=e.tracker(t);return o.hasOwnProperty(i)?null:(o[i]=!0,(0,d.h)(n,i,{validations:r,prop:t,lazyParentModel:e.eagerParentModel,model:a[t],rootModel:e.rootModel}))}).filter(Boolean)}},methods:{isNested:function(){return!0},getRef:function(e){return this.refs[this.tracker(e)]}}}),u=function(e,t){if("$each"===t)return(0,d.h)(l,t,{validations:e.validations[t],lazyParentModel:e.lazyParentModel,prop:t,lazyModel:e.getModel,rootModel:e.rootModel});var a=e.validations[t];if(Array.isArray(a)){var r=e.rootModel,o=f(a,function(e){return function(){return p(r,r.$v,e)}},function(e){return Array.isArray(e)?e.join("."):e});return(0,d.h)(s,t,{validations:o,lazyParentModel:v,prop:t,lazyModel:v,rootModel:r})}return(0,d.h)(n,t,{validations:a,lazyParentModel:e.getModel,prop:t,lazyModel:e.getModelKey,rootModel:e.rootModel})},C=function(e,t){return(0,d.h)(a,t,{rule:e.validations[t],lazyParentModel:e.lazyParentModel,lazyModel:e.getModel,rootModel:e.rootModel})};return w={VBase:t,Validation:n}},M=null,P=function(e,t){var a=l(e),n=C(a),r=n.Validation;return new(0,n.VBase)({computed:{children:function(){var a="function"==typeof t?t.call(e):t;return[(0,d.h)(r,"$v",{validations:a,lazyParentModel:v,prop:"$v",model:e,rootModel:e})]}}})},k={data:function(){var e=this.$options.validations;return e&&(this._vuelidate=P(this,e)),{}},beforeCreate:function(){var e=this,t=this.$options;t.validations&&(t.computed||(t.computed={}),t.computed.$v=function(){return e._vuelidate.refs.$v.proxy})},beforeDestroy:function(){this._vuelidate&&(this._vuelidate.$destroy(),this._vuelidate=null)}};t.Vuelidate=u,t.validationMixin=k,t.withParams=_.withParams,t.default=u},263:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.maxValue=t.minValue=t.and=t.or=t.url=t.sameAs=t.requiredUnless=t.requiredIf=t.required=t.minLength=t.maxLength=t.macAddress=t.ipAddress=t.email=t.between=t.numeric=t.alphaNum=t.alpha=void 0;var r=a(264),o=n(r),i=a(265),s=n(i),l=a(275),u=n(l),c=a(267),d=n(c),_=a(268),v=n(_),f=a(269),p=n(f),m=a(270),h=n(m),b=a(271),g=n(b),y=a(273),w=n(y),C=a(277),M=n(C),P=a(278),k=n(P),$=a(279),x=n($),q=a(280),O=n(q),j=a(281),R=n(j),A=a(276),D=n(A),E=a(266),z=n(E),L=a(274),S=n(L),N=a(272),T=n(N);t.alpha=o.default,t.alphaNum=s.default,t.numeric=u.default,t.between=d.default,t.email=v.default,t.ipAddress=p.default,t.macAddress=h.default,t.maxLength=g.default,t.minLength=w.default,t.required=M.default,t.requiredIf=k.default,t.requiredUnless=x.default,t.sameAs=O.default,t.url=R.default,t.or=D.default,t.and=z.default,t.minValue=S.default,t.maxValue=T.default},264:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(260);t.default=(0,n.regex)("alpha",/^[a-zA-Z]*$/)},265:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(260);t.default=(0,n.regex)("alphaNum",/^[a-zA-Z0-9]*$/)},266:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(260);t.default=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.withParams)({type:"and"},function(){for(var e=this,a=arguments.length,n=Array(a),r=0;r<a;r++)n[r]=arguments[r];return t.length>0&&t.reduce(function(t,a){return t&&a.apply(e,n)},!0)})}},267:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(260);t.default=function(e,t){return(0,n.withParams)({type:"between",min:e,max:t},function(a){return!(0,n.req)(a)||(!/\s/.test(a)||a instanceof Date)&&+e<=+a&&+t>=+a})}},268:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(260),r=/(^$|^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$)/;t.default=(0,n.regex)("email",r)},269:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(260);t.default=(0,n.withParams)({type:"ipAddress"},function(e){if(!(0,n.req)(e))return!0;if("string"!=typeof e)return!1;var t=e.split(".");return 4===t.length&&t.every(r)});var r=function(e){if(e.length>3||0===e.length)return!1;if("0"===e[0]&&"0"!==e)return!1;if(!e.match(/^\d+$/))return!1;var t=0|+e;return t>=0&&t<=255}},270:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(260);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:":";return(0,n.withParams)({type:"macAddress"},function(t){if(!(0,n.req)(t))return!0;if("string"!=typeof t)return!1;var a="string"==typeof e&&""!==e?t.split(e):12===t.length||16===t.length?t.match(/.{2}/g):null;return null!==a&&(6===a.length||8===a.length)&&a.every(r)})};var r=function(e){return e.toLowerCase().match(/^[0-9a-f]{2}$/)}},271:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(260);t.default=function(e){return(0,n.withParams)({type:"maxLength",max:e},function(t){return!(0,n.req)(t)||(0,n.len)(t)<=e})}},272:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(260);t.default=function(e){return(0,n.withParams)({type:"maxValue",max:e},function(t){return!(0,n.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t<=+e})}},273:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(260);t.default=function(e){return(0,n.withParams)({type:"minLength",min:e},function(t){return!(0,n.req)(t)||(0,n.len)(t)>=e})}},274:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(260);t.default=function(e){return(0,n.withParams)({type:"minValue",min:e},function(t){return!(0,n.req)(t)||(!/\s/.test(t)||t instanceof Date)&&+t>=+e})}},275:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(260);t.default=(0,n.regex)("numeric",/^[0-9]*$/)},276:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(260);t.default=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.withParams)({type:"or"},function(){for(var e=this,a=arguments.length,n=Array(a),r=0;r<a;r++)n[r]=arguments[r];return t.length>0&&t.reduce(function(t,a){return t||a.apply(e,n)},!1)})}},277:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(260);t.default=(0,n.withParams)({type:"required"},n.req)},278:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(260);t.default=function(e){return(0,n.withParams)({type:"requiredIf",prop:e},function(t,a){return!(0,n.ref)(e,this,a)||(0,n.req)(t)})}},279:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(260);t.default=function(e){return(0,n.withParams)({type:"requiredUnless",prop:e},function(t,a){return!!(0,n.ref)(e,this,a)||(0,n.req)(t)})}},280:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(260);t.default=function(e){return(0,n.withParams)({type:"sameAs",eq:e},function(t,a){return t===(0,n.ref)(e,this,a)})}},281:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(260),r=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[\/?#]\S*)?$/;t.default=(0,n.regex)("url",r)},282:function(e,t,a){"use strict";function n(e){return null===e||void 0===e}function r(e){return null!==e&&void 0!==e}function o(e,t){return t.tag===e.tag&&t.key===e.key}function i(e){var t=e.tag;e.vm=new t({data:e.args})}function s(e){for(var t=Object.keys(e.args),a=0;a<t.length;a++)t.forEach(function(t){e.vm[t]=e.args[t]})}function l(e,t,a){var n=void 0,o=void 0,i={};for(n=t;n<=a;++n)o=e[n].key,r(o)&&(i[o]=n);return i}function u(e,t){for(var a=0,s=0,u=e.length-1,v=e[0],f=e[u],p=t.length-1,m=t[0],h=t[p],b=void 0,g=void 0,y=void 0;a<=u&&s<=p;)n(v)?v=e[++a]:n(f)?f=e[--u]:o(v,m)?(_(v,m),v=e[++a],m=t[++s]):o(f,h)?(_(f,h),f=e[--u],h=t[--p]):o(v,h)?(_(v,h),v=e[++a],h=t[--p]):o(f,m)?(_(f,m),f=e[--u],m=t[++s]):(n(b)&&(b=l(e,a,u)),g=r(m.key)?b[m.key]:null,n(g)?(i(m),m=t[++s]):(y=e[g],o(y,m)?(_(y,m),e[g]=void 0,m=t[++s]):(i(m),m=t[++s])));a>u?c(t,s,p):s>p&&d(e,a,u)}function c(e,t,a){for(;t<=a;++t)i(e[t])}function d(e,t,a){for(;t<=a;++t){var n=e[t];r(n)&&(n.vm.$destroy(),n.vm=null)}}function _(e,t){e!==t&&(t.vm=e.vm,s(t))}function v(e,t){r(e)&&r(t)?e!==t&&u(e,t):r(t)?c(t,0,t.length-1):r(e)&&d(e,0,e.length-1)}function f(e,t,a){return{tag:e,key:t,args:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.patchChildren=v,t.h=f},283:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(261).withParams;t.default=n},291:function(e,t,a){e.exports={default:a(297),__esModule:!0}},297:function(e,t,a){var n=a(8),r=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},308:function(e,t){t.f={}.propertyIsEnumerable},315:function(e,t){t.f=Object.getOwnPropertySymbols},324:function(e,t,a){e.exports={default:a(327),__esModule:!0}},327:function(e,t,a){a(341),e.exports=a(8).Object.assign},337:function(e,t,a){"use strict";var n=a(163),r=a(315),o=a(308),i=a(161),s=a(166),l=Object.assign;e.exports=!l||a(26)(function(){var e={},t={},a=Symbol(),n="abcdefghijklmnopqrst";return e[a]=7,n.split("").forEach(function(e){t[e]=e}),7!=l({},e)[a]||Object.keys(l({},t)).join("")!=n})?function(e,t){for(var a=i(e),l=arguments.length,u=1,c=r.f,d=o.f;l>u;)for(var _,v=s(arguments[u++]),f=c?n(v).concat(c(v)):n(v),p=f.length,m=0;p>m;)d.call(v,_=f[m++])&&(a[_]=v[_]);return a}:l},341:function(e,t,a){var n=a(25);n(n.S+n.F,"Object",{assign:a(337)})},369:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(291),r=a.n(n),o=a(324),i=a.n(o),s=a(24),l=a(0),u=a.n(l),c=a(5),d=a(262),_=a.n(d),v=a(263),f=(a.n(v),a(1));a.n(f);c.a.use(_.a),t.default={props:{denormalized_beds:{type:Array,required:!0},selected_bed:{type:Object,required:!0}},mounted:function(){var e=this;f.Loading.show(),console.log(f.LocalStorage.get.item("pg_for_dashboard")),c.a.axios.get(s.a.urls.SITE_URL+"api/v1/pg/"+this.selected_pg_id+"/").then(function(t){if(null!=t.data){var a=[],n=t.data;e.selected_pg=t.data,n.rooms_in_pg.forEach(function(e){e.beds_in_room.forEach(function(t){var t={pg_id:n.pk,pg_name:n.name,group_id:e.group,floor:e.floor,room_id:e.pk,room_name:e.name,bed_id:t.pk,bed_name:t.name,bed_status:t.status};a.push(t)})}),e.$emit("denormalizedBedsReset",a)}c.a.axios.get(s.a.urls.SITE_URL+"api/v1/reservation-payment/?pg="+e.selected_pg_id).then(function(t){null!=t.data&&e.denormalized_beds.forEach(function(a){var n=t.data.filter(function(e){return a.bed_id==e.bed}),r={};i()(r,a),n.length>0?(r.current_reservation=n[0],r.is_paid=n[0].is_paid,r.is_vacant=!1):(r.is_paid=null,r.is_vacant=!0,r.current_reservation=null),e.bed_reservations.push(r)}),f.Loading.hide()}).catch(function(t){e.error=t,f.Loading.hide(),console.log("Error",t)}),e.loaded=!0}).catch(function(t){e.error=t,e.loaded=!0,console.log("Error",t)})},data:function(){return{selected_pg:{},bed_reservations:[],upcoming_reservations:[],is_paid:"false",is_vacant:"true",selected_reservation:"",editable_reservation:{name:"",email:"",phone_number:"",plan:"",range:{from:"",to:""}},reservation_to_delete:null,payment_to_delete:null,custom_alert_message:"",selected_rooms_for_message:[]}},validations:{editable_reservation:{name:{required:v.required},email:{email:v.email},phone_number:{required:v.required,numeric:v.numeric,minLength:a.i(v.minLength)(10),maxLength:a.i(v.maxLength)(10)},plan:{required:v.required},range:{from:{required:v.required}}},custom_alert_message:{required:v.required,maxLength:a.i(v.maxLength)(120)}},computed:{selected_pg_id:function(){return f.LocalStorage.get.item("pg_for_dashboard")},selectOptions:function(){var e=[];return this.pg_detail.forEach(function(t){t.rooms.forEach(function(t){e.push({label:t.room_name,value:t.room_id})})}),e},pg_detail:function(){var e=this,t=e.bed_reservations.reduce(function(t,a){if(a.pg_id==e.selected_pg.pk){if(!(a.floor in t)){var n={paid_count:0,occupied_count:0,vacant_count:0,total_beds:0,rooms:[],floor:a.floor};t.push(t[a.floor]=n)}if(t[a.floor].total_beds+=1,a.is_vacant?t[a.floor].vacant_count+=1:(t[a.floor].occupied_count+=1,a.is_paid&&(t[a.floor].paid_count+=1)),!(a.room_id in t[a.floor].rooms)){var r={paid_count:0,occupied_count:0,vacant_count:0,total_beds:0,room_id:a.room_id,room_name:a.room_name,beds:[]};t[a.floor].rooms[a.room_id]=r}t[a.floor].rooms[a.room_id].total_beds+=1,a.is_vacant?t[a.floor].rooms[a.room_id].vacant_count+=1:(t[a.floor].rooms[a.room_id].occupied_count+=1,a.is_paid&&(t[a.floor].rooms[a.room_id].paid_count+=1)),t[a.floor].rooms[a.room_id].beds.push(a)}return t},[]),a=[];return t.forEach(function(e){var t={occupied_count:e.occupied_count,paid_count:e.paid_count,total_beds:e.total_beds,vacant_count:e.vacant_count,floor:e.floor,rooms:[]};e.rooms.forEach(function(e){e&&(e.beds.sort(function(e,t){return t.bed_name-e.bed_name}),t.rooms.push(e))}),a.push(t)}),a},vacant_in_pg_detail:function(){return this.pg_detail.reduce(function(e,t){return e+t.vacant_count},0)},total_beds_in_pg_detail:function(){return this.bed_reservations.length},paid_in_pg_detail:function(){return this.pg_detail.reduce(function(e,t){return e+t.paid_count},0)},paid_pg_detail:function(){var e=this,t=e.bed_reservations.reduce(function(t,a){if(a.pg_id==e.selected_pg.pk&&a.is_paid==("true"==e.is_paid)){if(!(a.floor in t)){var n={paid_count:0,occupied_count:0,vacant_count:0,total_beds:0,rooms:[],floor:a.floor};t.push(t[a.floor]=n)}if(t[a.floor].total_beds+=1,a.is_vacant?t[a.floor].vacant_count+=1:(t[a.floor].occupied_count+=1,a.is_paid&&(t[a.floor].paid_count+=1)),!(a.room_id in t[a.floor].rooms)){var r={paid_count:0,occupied_count:0,vacant_count:0,total_beds:0,room_id:a.room_id,room_name:a.room_name,beds:[]};t[a.floor].rooms[a.room_id]=r}t[a.floor].rooms[a.room_id].total_beds+=1,a.is_vacant?t[a.floor].rooms[a.room_id].vacant_count+=1:(t[a.floor].rooms[a.room_id].occupied_count+=1,a.is_paid&&(t[a.floor].rooms[a.room_id].paid_count+=1)),t[a.floor].rooms[a.room_id].beds.push(a)}return t},[]),a=[];return t.forEach(function(e){var t={occupied_count:e.occupied_count,paid_count:e.paid_count,total_beds:e.total_beds,vacant_count:e.vacant_count,floor:e.floor,rooms:[]};e.rooms.forEach(function(e){e&&(e.beds.sort(function(e,t){return t.bed_name-e.bed_name}),t.rooms.push(e))}),a.push(t)}),a},vacant_pg_detail:function(){var e=this,t=e.bed_reservations.reduce(function(t,a){if(a.pg_id==e.selected_pg.pk&&a.is_vacant==("true"==e.is_vacant)){if(!(a.floor in t)){var n={paid_count:0,occupied_count:0,vacant_count:0,total_beds:0,rooms:[],floor:a.floor};t.push(t[a.floor]=n)}if(t[a.floor].total_beds+=1,a.is_vacant?t[a.floor].vacant_count+=1:(t[a.floor].occupied_count+=1,a.is_paid&&(t[a.floor].paid_count+=1)),!(a.room_id in t[a.floor].rooms)){var r={paid_count:0,occupied_count:0,vacant_count:0,total_beds:0,room_id:a.room_id,room_name:a.room_name,beds:[]};t[a.floor].rooms[a.room_id]=r}t[a.floor].rooms[a.room_id].total_beds+=1,a.is_vacant?t[a.floor].rooms[a.room_id].vacant_count+=1:(t[a.floor].rooms[a.room_id].occupied_count+=1,a.is_paid&&(t[a.floor].rooms[a.room_id].paid_count+=1)),t[a.floor].rooms[a.room_id].beds.push(a)}return t},[]),a=[];return t.forEach(function(e){var t={occupied_count:e.occupied_count,paid_count:e.paid_count,total_beds:e.total_beds,vacant_count:e.vacant_count,floor:e.floor,rooms:[]};e.rooms.forEach(function(e){e&&(e.beds.sort(function(e,t){return t.bed_name-e.bed_name}),t.rooms.push(e))}),a.push(t)}),a}},methods:{openDeletePayment:function(e){this.payment_to_delete=e,this.$refs.deletePaymentsModal.open()},deletePayment:function(e){var t=this;c.a.axios.delete(s.a.urls.SITE_URL+"api/v1/payment/"+e+"/").then(function(a){if(204==a.status){var n=t.selected_reservation.reservation_payment.filter(function(t){return t.pk!=e});t.selected_reservation.reservation_payment=n,t.$refs.deletePaymentsModal.close()}}).catch(function(e){t.error=e,console.log("Error",e)})},has_perm:function(e){return f.LocalStorage.get.item("permissions").indexOf(e)>-1},alert_unpaid:function(){var e={for_unpaid:!0,pg:this.selected_pg.pk};c.a.axios.post(s.a.urls.SITE_URL+"send-alert/",e).then(function(e){null!=e.data&&f.Toast.create("SMS sent: "+e.data.sms_count)}).catch(function(e){self.error=e,console.log(e.response),402==e.response.status&&f.Toast.create("Insufficient SMS Balance"),console.log("Error",e)})},send_custom_alert_message:function(){var e=this,t={pg:this.selected_pg.pk,custom_message:this.custom_alert_message,rooms:this.selected_rooms_for_message};if(this.$v.custom_alert_message.$touch(),this.$v.custom_alert_message.$error)return void f.Toast.create("Please review fields again.");c.a.axios.post(s.a.urls.SITE_URL+"send-alert/",t).then(function(t){null!=t.data&&(e.$refs.customMsgModal.close(),e.custom_alert_message="",e.selected_rooms_for_message=[],f.Toast.create("SMS sent: "+t.data.sms_count))}).catch(function(t){e.error=t,402==t.response.status&&f.Toast.create("Insufficient SMS Balance"),console.log("Error",t)})},get_color:function(e,t){return e/t>.7?"green_collapsible":e/t>.4?"yellow_collapsible":"red_collapsible"},openDeleteReservation:function(e){this.reservation_to_delete=e,this.$refs.deleteReservationModal.open()},deleteReservation:function(e){var t=this;c.a.axios.delete(s.a.urls.SITE_URL+"api/v1/reservation/"+this.reservation_to_delete+"/").then(function(e){if(204==e.status){var a=t.upcoming_reservations.filter(function(e){return e.pk!=t.reservation_to_delete});t.upcoming_reservations=a,t.$refs.deleteReservationModal.close(),t.$refs.editReservationModal.close()}}).catch(function(e){t.error=e,console.log("Error",e)})},push_to_reservation:function(e){this.selected_reservation=e,this.$refs.reservationDetails.open()},editReservation:function(e){this.editable_reservation={bed:e.bed,id:e.pk,name:e.name,phone_number:e.phone_number,plan:e.plan,status:"act",email:e.email_id,range:{from:"",to:""}};var t=JSON.parse(e.period);this.editable_reservation.range.from=t.lower,this.editable_reservation.range.to=t.upper?t.upper:"",this.$refs.editReservationModal.open()},submitReservationForm:function(){var e=this;if(this.$v.editable_reservation.$touch(),this.$v.editable_reservation.$error)return void f.Toast.create("Please review fields again.");var t=u()(e.editable_reservation.range.from),a=u()(e.editable_reservation.range.to);if("DA"==this.editable_reservation.plan&&isNaN(t.diff(a,"days")))return void f.Toast.create("To Date cant be blank for Daily Plan.");if("DA"==this.editable_reservation.plan&&Math.abs(t.diff(a,"days"))>30)return void f.Toast.create("Daily plan can't be more than 30 days");var n={name:this.editable_reservation.name,phone_number:this.editable_reservation.phone,email_id:this.editable_reservation.email,plan:this.editable_reservation.plan,status:"act",period:function(){var t=e.editable_reservation.range.from,a=null;if(""!=e.editable_reservation.range.to)var a=e.editable_reservation.range.to;var n={lower:t,upper:a,bounds:"[)"};return r()(n)}()};c.a.axios.patch(s.a.urls.SITE_URL+"api/v1/reservation/"+e.editable_reservation.id+"/",n).then(function(t){null!=t.data&&(e.get_upcoming_reservations(),e.editable_reservation={name:"",email:"",phone:"",plan:"",range:{from:"",to:""}},e.$refs.editReservationModal.close())}).catch(function(t){if(e.error=t,t.response.data.non_field_errors){var a="";for(var n in t.response.data.non_field_errors)a+=t.response.data.non_field_errors[n]+"\n";f.Toast.create(a)}})},push_to_customize_pg:function(){this.$router.push({name:"customize-pg",params:{id:this.selected_pg.pk}})},push_to_bed:function(e){this.$router.push({name:"bed",params:{id:e}})},get_upcoming_reservations:function(){var e=this;f.Loading.show(),c.a.axios.get(s.a.urls.SITE_URL+"api/v1/reservation/?pg="+e.selected_pg_id+"&upcoming=true").then(function(t){null!=t.data&&(e.upcoming_reservations=t.data,e.$refs.upcomingReservationsModal.open()),f.Loading.hide()}).catch(function(t){e.error=t,f.Loading.hide(),console.log("Error",t)})},get_from_to:function(e){var e=JSON.parse(e);if(e.upper)var t=u()(e.upper).format("DD-MM-YYYY");else var t="Unknown";if(e.lower)var a=u()(e.lower).format("DD-MM-YYYY");else var a="Unknown";return a+" to "+t}}}},414:function(e,t,a){t=e.exports=a(225)(),t.push([e.i,"",""])},438:function(e,t,a){var n=a(414);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);a(226)("d8ecfc20",n,!0)},467:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"toolbar",slot:"header"},[a("button",{staticClass:"hide-on-drawer-visible",on:{click:function(t){e.$emit("openDrawer")}}},[a("i",[e._v("menu")])]),e._v(" "),a("q-toolbar-title",{attrs:{padding:1}},[e._v("\n      RoomoY\n    ")]),e._v(" "),a("button",{on:{click:e.push_to_customize_pg}},[a("i",[e._v("edit")])]),e._v(" "),a("button",{staticClass:"right-drawer-opener",on:{click:function(t){e.$refs.rdrawer.open()}}},[a("i",[e._v("more_vert")])])],1),e._v(" "),a("q-drawer",{ref:"rdrawer",attrs:{"right-side":""}},[a("div",{staticClass:"list"},[e.has_perm("payrem")?a("div",{staticClass:"item",on:{click:e.alert_unpaid}},[a("i",{staticClass:"item-primary"},[e._v("inbox")]),e._v(" "),a("div",{staticClass:"item-content"},[e._v("\n        Alert Unpaid Tenants\n      ")])]):e._e(),e._v(" "),e.has_perm("cusnotif")?a("div",{staticClass:"item",on:{click:function(t){e.$refs.customMsgModal.open()}}},[a("i",{staticClass:"item-primary"},[e._v("send")]),e._v(" "),a("div",{staticClass:"item-content"},[e._v("\n        Custom Notifications\n      ")])]):e._e()])]),e._v(" "),a("div",{staticClass:"layout-padding"},[a("h6",[e._v(e._s(e.selected_pg.name))]),e._v(" "),e.selected_pg.rooms_in_pg<1?a("div",[e._v("You dont have any rooms in this PG. "),a("br"),e._v(" Click "),a("i",[e._v("edit")]),e._v(" icon above to get started.")]):a("div",{staticClass:"list item-delimiter scroll"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"row"},[a("button",{staticClass:"primary width-1of2 m3",on:{click:function(t){e.$refs.vacantModal.open()}}},[e._v(e._s(e.vacant_in_pg_detail)),a("br"),e._v("Vacant")]),e._v(" "),a("button",{staticClass:"primary width-1of2 m3",on:{click:function(t){e.$refs.paidModal.open()}}},[e._v(e._s(e.total_beds_in_pg_detail-e.vacant_in_pg_detail-e.paid_in_pg_detail)),a("br"),e._v("Unpaid")])]),e._v(" "),a("div",{staticClass:"row"},[a("button",{staticClass:"primary full-width m3",on:{click:function(t){e.get_upcoming_reservations()}}},[e._v("Upcoming Reservations")])])])]),e._v(" "),a("div",[a("div",{staticClass:"list item-delimiter"},e._l(e.pg_detail,function(t){return a("q-collapsible",{key:t.floor,class:e.get_color(t.vacant_count,t.total_beds),attrs:{group:"floor",label:t.floor+" - Vacant: "+t.vacant_count+"/"+t.total_beds+" Paid: "+t.paid_count+"/"+(t.total_beds-t.vacant_count)}},[a("div",[a("div",{staticClass:"list item-delimiter"},e._l(t.rooms,function(t){return a("q-collapsible",{key:t.room_id,class:e.get_color(t.vacant_count,t.total_beds),attrs:{group:"room",label:t.room_name+" - Vacant: "+t.vacant_count+"/"+t.total_beds+" Paid: "+t.paid_count+"/"+(t.total_beds-t.vacant_count)}},e._l(t.beds,function(t,n){return a("div",{key:t.bed_id,staticClass:"card bg-white",on:{click:function(a){e.push_to_bed(t.bed_id)}}},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"row"},[t.is_vacant?a("span",[a("i",{staticClass:"width-1of5 text-faded"},[e._v("local_hotel")]),e._v("\n                            \n                              "),a("span",{staticClass:"token"},[e._v("Vacant")])]):a("span",[t.is_paid?a("span",[a("i",{staticClass:"width-1of5 text-positive"},[e._v("local_hotel")]),e._v(" \n                              "),a("span",{staticClass:"width-4of5"},[e._v(e._s(t.current_reservation.name))]),e._v("\n                                "),a("span",{staticClass:"token"},[e._v("Paid")])]):a("span",[a("i",{staticClass:"width-1of5 text-negative"},[e._v("local_hotel")]),e._v(" \n                              "),a("span",{staticClass:"width-3of5"},[e._v(e._s(t.current_reservation.name))]),e._v("\n                                "),a("span",{staticClass:"token"},[e._v("Not Paid")])])])])])])}))}))])])}))])])]),e._v(" "),a("q-modal",{ref:"customMsgModal",staticClass:"minimized",attrs:{"content-css":{padding:"10px"}}},[a("div",{staticClass:"floating-label"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.custom_alert_message,expression:"custom_alert_message"}],staticClass:"full-width",attrs:{required:""},domProps:{value:e.custom_alert_message},on:{input:function(t){t.target.composing||(e.custom_alert_message=t.target.value)}}}),e._v(" "),a("label",[e._v("Message")])]),e._v(" "),e.$v.custom_alert_message.required&&e.$v.custom_alert_message.maxLength?e._e():a("span",{staticClass:"form-error-message row"},[e._v("Message must be lessthan or equal to 120 chars")]),e._v(" "),a("div",{staticClass:"row"},[a("q-dialog-select",{staticClass:"full-width",attrs:{type:"checkbox",message:"Leave it blank to send to all",options:e.selectOptions,title:"Pick Rooms",label:"Pick Rooms"},model:{value:e.selected_rooms_for_message,callback:function(t){e.selected_rooms_for_message=t},expression:"selected_rooms_for_message"}})],1),e._v(" "),a("div",{staticClass:"row"},[a("button",{staticClass:"negative width-1of2 m3",on:{click:e.send_custom_alert_message}},[e._v("Send Message")]),e._v(" "),a("button",{staticClass:"tertiary width-1of2 m3",on:{click:function(t){e.$refs.customMsgModal.close()}}},[e._v("Cancel")])])]),e._v(" "),a("q-modal",{ref:"paidModal",attrs:{"content-css":{minWidth:"80vw",minHeight:"80vh"}}},[a("q-layout",[a("div",{staticClass:"toolbar",slot:"header"},[a("button",{on:{click:function(t){e.$refs.paidModal.close()}}},[a("i",[e._v("arrow_back")])]),e._v(" "),a("q-toolbar-title",{attrs:{padding:1}},[e._v("\n            Paid/Unpaid\n          ")])],1),e._v(" "),a("div",{staticClass:"layout-view layout-padding"},[a("div",{staticClass:"text-center row"},[a("label",{staticClass:"width-1of2"},[a("q-radio",{attrs:{val:"true"},model:{value:e.is_paid,callback:function(t){e.is_paid=t},expression:"is_paid"}}),e._v("\n          Paid\n        ")],1),e._v(" "),a("label",{staticClass:"width-1of2"},[a("q-radio",{attrs:{val:"false"},model:{value:e.is_paid,callback:function(t){e.is_paid=t},expression:"is_paid"}}),e._v("\n          Unpaid\n        ")],1)]),a("br"),a("br"),e._v(" "),a("div",{staticClass:"list item-delimiter"},e._l(e.paid_pg_detail,function(t){return a("q-collapsible",{key:t.floor,attrs:{group:"floor",label:t.floor+" - Total: "+t.total_beds}},[a("div",[a("div",{staticClass:"list item-delimiter"},e._l(t.rooms,function(t){return a("q-collapsible",{key:t.room_id,attrs:{group:"room",label:t.room_name+" - Total: "+t.total_beds}},e._l(t.beds,function(t,n){return a("div",{key:t.bed_id,staticClass:"card bg-white",on:{click:function(a){e.push_to_bed(t.bed_id)}}},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"row"},[t.is_vacant?a("span",[a("i",{staticClass:"width-1of5 text-faded"},[e._v("local_hotel")]),e._v("\n                              "),a("span",{staticClass:"token"},[e._v("Vacant")])]):a("span",[t.is_paid?a("span",[a("i",{staticClass:"width-1of5 text-positive"},[e._v("local_hotel")]),e._v(" \n                              "),a("span",{staticClass:"width-4of5"},[e._v(e._s(t.current_reservation.name))]),e._v("\n                                "),a("span",{staticClass:"token"},[e._v("Paid")])]):a("span",[a("i",{staticClass:"width-1of5 text-negative"},[e._v("local_hotel")]),e._v(" \n                              "),a("span",{staticClass:"width-3of5"},[e._v(e._s(t.current_reservation.name))]),e._v("\n                                "),a("span",{staticClass:"token"},[e._v("Not Paid")])])])])])])}))}))])])}))])])],1),e._v(" "),a("q-modal",{ref:"vacantModal",attrs:{"content-css":{minWidth:"80vw",minHeight:"80vh"}}},[a("q-layout",[a("div",{staticClass:"toolbar",slot:"header"},[a("button",{on:{click:function(t){e.$refs.vacantModal.close()}}},[a("i",[e._v("arrow_back")])]),e._v(" "),a("q-toolbar-title",{attrs:{padding:1}},[e._v("\n            Vacant/Occupied\n          ")])],1),e._v(" "),a("div",{staticClass:"layout-view layout-padding"},[a("div",{staticClass:"text-center row"},[a("label",{staticClass:"width-1of2"},[a("q-radio",{attrs:{val:"true"},model:{value:e.is_vacant,callback:function(t){e.is_vacant=t},expression:"is_vacant"}}),e._v("\n          Vacant\n        ")],1),e._v(" "),a("label",{staticClass:"width-1of2"},[a("q-radio",{attrs:{val:"false"},model:{value:e.is_vacant,callback:function(t){e.is_vacant=t},expression:"is_vacant"}}),e._v("\n          Occupied\n        ")],1)]),a("br"),a("br"),e._v(" "),a("div",{staticClass:"list item-delimiter"},e._l(e.vacant_pg_detail,function(t){return a("q-collapsible",{key:t.floor,attrs:{group:"floor",label:t.floor+" - Total: "+t.total_beds}},[a("div",[a("div",{staticClass:"list item-delimiter"},e._l(t.rooms,function(t){return a("q-collapsible",{key:t.room_id,attrs:{group:"room",label:t.room_name+" - Total: "+t.total_beds}},e._l(t.beds,function(t,n){return a("div",{key:t.bed_id,staticClass:"card bg-white",on:{click:function(a){e.push_to_bed(t.bed_id)}}},[a("div",{staticClass:"card-content"},[a("div",{staticClass:"row"},[t.is_vacant?a("span",[a("i",{staticClass:"width-1of5 text-faded"},[e._v("local_hotel")]),e._v("\n                              "),a("span",{staticClass:"token"},[e._v("Vacant")])]):a("span",[t.is_paid?a("span",[a("i",{staticClass:"width-1of5 text-positive"},[e._v("local_hotel")]),e._v(" \n                              "),a("span",{staticClass:"width-4of5"},[e._v(e._s(t.current_reservation.name))]),e._v("\n                                "),a("span",{staticClass:"token"},[e._v("Paid")])]):a("span",[a("i",{staticClass:"width-1of5 text-negative"},[e._v("local_hotel")]),e._v(" \n                              "),a("span",{staticClass:"width-3of5"},[e._v(e._s(t.current_reservation.name))]),e._v("\n                                "),a("span",{staticClass:"token"},[e._v("Not Paid")])])])])])])}))}))])])}))])])],1),e._v(" "),a("q-modal",{ref:"upcomingReservationsModal",attrs:{"content-css":{minWidth:"80vw",minHeight:"80vh"}}},[a("q-layout",[a("div",{staticClass:"toolbar",slot:"header"},[a("button",{on:{click:function(t){e.$refs.upcomingReservationsModal.close()}}},[a("i",[e._v("arrow_back")])]),e._v(" "),a("q-toolbar-title",{attrs:{padding:1}},[e._v("\n            Upcoming Reservations\n          ")])],1),e._v(" "),a("div",{staticClass:"layout-view"},[a("div",{staticClass:"list item-delimiter"},e._l(e.upcoming_reservations,function(t){return a("div",{staticClass:"item"},[a("div",{staticClass:"item-content has-secondary",on:{click:function(a){e.push_to_reservation(t)}}},[a("div",[e._v(e._s(t.name)+"\n                "),a("br"),e._v(" "+e._s(e.get_from_to(t.period))+"\n              ")])]),e._v(" "),a("i",{staticClass:"item-secondary",on:{click:function(a){e.editReservation(t)}}},[e._v("edit")])])}))])])],1),e._v(" "),a("q-modal",{ref:"reservationDetails",attrs:{"content-css":{minWidth:"80vw",minHeight:"80vh"}}},[a("q-layout",[a("div",{staticClass:"toolbar",slot:"header"},[a("button",{on:{click:function(t){e.$refs.reservationDetails.close()}}},[a("i",[e._v("arrow_back")])]),e._v(" "),a("q-toolbar-title",{attrs:{padding:1}},[e._v("\n            Reservation Details\n          ")])],1),e._v(" "),e.selected_reservation?a("div",{staticClass:"layout-view layout-padding"},[e._v("\n        Name: "+e._s(e.selected_reservation.name)),a("br"),e._v("\n        Phone Number: "+e._s(e.selected_reservation.phone_number)),a("br"),e._v("\n        Email ID: "+e._s(e.selected_reservation.email_id)),a("br"),e._v("\n        Phone Number: "+e._s(e.selected_reservation.phone_number)),a("br"),e._v("\n        Period: "+e._s(e.get_from_to(e.selected_reservation.period))),a("br"),e._v("\n        Plan: "),"MO"==e.selected_reservation.plan?a("span",[e._v("Monthly")]):e._e(),"DA"==e.selected_reservation.plan?a("span",[e._v("Daily")]):e._e(),a("br"),e._v(" "),a("p",{staticClass:"caption"},[e._v("Payments")]),e._v(" "),a("div",{staticClass:"list"},e._l(e.selected_reservation.reservation_payment,function(t){return a("div",{staticClass:"item item-link"},[a("div",{staticClass:"item-content has-secondary"},[a("div",[e._v("Rs. "+e._s(t.amount)+"\n                "),a("br"),e._v(" Date: "+e._s(new Date(t.date).getDate())+"/"+e._s(new Date(t.date).getMonth()+1)+"/"+e._s(new Date(t.date).getFullYear())+"\n                "),a("br")])]),e._v(" "),a("i",{staticClass:"item-secondary",on:{click:function(a){e.openDeletePayment(t.pk)}}},[e._v("delete")])])}))]):e._e()])],1),e._v(" "),a("q-modal",{ref:"editReservationModal",attrs:{"content-css":{minWidth:"80vw",minHeight:"80vh"}}},[a("q-layout",[a("div",{staticClass:"toolbar",slot:"header"},[a("button",{on:{click:function(t){e.$refs.editReservationModal.close()}}},[a("i",[e._v("arrow_back")])]),e._v(" "),a("q-toolbar-title",{attrs:{padding:1}},[e._v("\n          Edit Reservation\n        ")])],1),e._v(" "),a("div",{staticClass:"layout-view layout-padding"},[a("div",{staticClass:"floating-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editable_reservation.name,expression:"editable_reservation.name"}],staticClass:"full-width",attrs:{required:""},domProps:{value:e.editable_reservation.name},on:{input:[function(t){t.target.composing||(e.editable_reservation.name=t.target.value)},function(t){e.$v.editable_reservation.name.$touch()}]}}),e._v(" "),a("label",[e._v("Name")])]),e._v(" "),e.$v.editable_reservation.name.required?e._e():a("span",{staticClass:"form-error-message row"},[e._v("Name is required")]),e._v(" "),a("div",{staticClass:"floating-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editable_reservation.phone_number,expression:"editable_reservation.phone_number"}],staticClass:"full-width",attrs:{type:"number",required:""},domProps:{value:e.editable_reservation.phone_number},on:{input:[function(t){t.target.composing||(e.editable_reservation.phone_number=t.target.value)},function(t){e.$v.editable_reservation.phone_number.$touch()}],blur:function(t){e.$forceUpdate()}}}),e._v(" "),a("label",[e._v("Phone Number")])]),e._v(" "),e.$v.editable_reservation.phone_number.required&&e.$v.editable_reservation.phone_number.minLength&&e.$v.editable_reservation.phone_number.maxLength?e._e():a("span",{staticClass:"form-error-message row"},[e._v("Enter valid 10-digit Mobile Number")]),e._v(" "),a("div",{staticClass:"floating-label"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.editable_reservation.email,expression:"editable_reservation.email"}],staticClass:"full-width",attrs:{required:""},domProps:{value:e.editable_reservation.email},on:{input:function(t){t.target.composing||(e.editable_reservation.email=t.target.value)}}}),e._v(" "),a("label",[e._v("Email")])]),e._v(" "),e.$v.editable_reservation.email.email?e._e():a("span",{staticClass:"form-error-message row"},[e._v("Please enter valid email.")]),e._v(" "),a("div",{staticClass:"row"},[a("span",{staticClass:"width-1of3"},[e._v("Plan")]),e._v(" "),a("label",{staticClass:"width-1of3"},[a("q-radio",{attrs:{val:"DA"},model:{value:e.editable_reservation.plan,callback:function(t){e.editable_reservation.plan=t},expression:"editable_reservation.plan"}}),e._v("\n            Daily\n          ")],1),e._v(" "),a("label",{staticClass:"width-1of3"},[a("q-radio",{attrs:{val:"MO"},model:{value:e.editable_reservation.plan,callback:function(t){e.editable_reservation.plan=t},expression:"editable_reservation.plan"}}),e._v("\n            Monthly\n          ")],1)]),e._v(" "),e.$v.editable_reservation.plan.required?e._e():a("span",{staticClass:"form-error-message row"},[e._v("Plan is required")]),e._v(" "),a("div",[e._v("From Date and To Date")]),e._v(" "),a("div",{staticClass:"row"},[a("q-datetime-range",{staticClass:"full-width",attrs:{type:"date"},on:{input:function(t){e.$v.editable_reservation.range.$touch()}},model:{value:e.editable_reservation.range,callback:function(t){e.editable_reservation.range=t},expression:"editable_reservation.range"}})],1),e._v(" "),e.$v.editable_reservation.range.from.required?e._e():a("span",{staticClass:"form-error-message row"},[e._v("From date is required")]),e._v(" "),a("div",{staticClass:"row"},[a("button",{staticClass:"primary width-1of2 m10",on:{click:function(t){e.submitReservationForm()}}},[e._v("Save")]),e._v(" "),a("button",{staticClass:"tertiary width-1of2 m10",on:{click:function(t){e.$refs.editReservationModal.close()}}},[e._v("Cancel")])]),e._v(" "),a("button",{staticClass:"negative full-width m10",on:{click:function(t){e.openDeleteReservation(e.editable_reservation.id)}}},[e._v("Delete Reservation")])])])],1),e._v(" "),a("q-modal",{ref:"deletePaymentsModal",attrs:{position:"bottom","content-css":{padding:"20px"}}},[a("p",[e._v("Are you sure you want to Delete this Payment ?")]),e._v(" "),a("div",{staticClass:"row"},[a("button",{staticClass:"negative width-1of2 m10",on:{click:function(t){e.deletePayment(e.payment_to_delete)}}},[e._v("Delete")]),e._v(" "),a("button",{staticClass:"tertiary width-1of2 m10",on:{click:function(t){e.$refs.deletePaymentsModal.close()}}},[e._v("Cancel")])])]),e._v(" "),a("q-modal",{ref:"deleteReservationModal",attrs:{position:"bottom","content-css":{padding:"20px"}}},[a("p",[e._v("Are you sure you want to Delete this Reservation ?")]),e._v(" "),a("div",{staticClass:"row"},[a("button",{staticClass:"negative width-1of2 m10",on:{click:function(t){e.deleteReservation(e.reservation_to_delete)}}},[e._v("Delete")]),e._v(" "),a("button",{staticClass:"tertiary width-1of2 m10",on:{click:function(t){e.$refs.deleteReservationModal.close()}}},[e._v("Cancel")])])])],1)},staticRenderFns:[]}}});