webpackJsonp([41],{169:function(e,t,a){"use strict";function o(e){return function(){return a(243)("./"+e+".vue")}}var n=a(6),s=a(238);n.a.use(s.a),t.a=new s.a({routes:[{path:"/",name:"login",component:o("Index")},{path:"/signup",name:"signup",component:o("Signup")},{path:"/signup2",name:"signup2",component:o("Signup2")},{path:"/main",component:o("Main"),children:[{path:"pgs",name:"pg-list",meta:{requiresAuth:!0},component:o("PGs")},{path:"pg-dashboard",name:"pg-dashboard",meta:{requiresAuth:!0},component:o("Dashboard")},{path:"pick-bed/:filter",name:"pick-bed",meta:{requiresAuth:!0},component:o("PickBed")},{path:"upcoming-vacates",name:"upcoming-vacates",meta:{requiresAuth:!0},component:o("UpcomingVacates")},{path:"pg-detail/:id",name:"pg-detail",meta:{requiresAuth:!0},component:o("PGDetail")},{path:"room/:id",name:"room",meta:{requiresAuth:!0},component:o("Room")},{path:"bed/:id",name:"bed",meta:{requiresAuth:!0},component:o("Bed")},{path:"bed-reservations/:id",name:"bed-reservations",meta:{requiresAuth:!0},component:o("BedReservations")},{path:"customize/",name:"customize",meta:{requiresAuth:!0},component:o("Customize")},{path:"customize-pg/:id",name:"customize-pg",meta:{requiresAuth:!0},component:o("CustomizePG")},{path:"customize-room/:id",name:"customize-room",meta:{requiresAuth:!0},component:o("Bed")},{path:"managers/",name:"managers",meta:{requiresAuth:!0},component:o("Managers")},{path:"alerts/",name:"alerts",meta:{requiresAuth:!0},component:o("Alerts")},{path:"payments/",name:"payments",meta:{requiresAuth:!0},component:o("Payments")},{path:"settings/",name:"settings",meta:{requiresAuth:!0},component:o("AccountSettings")},{path:"expenses/",name:"expenses",meta:{requiresAuth:!0},component:o("Expenses")},{path:"staffs/",name:"staffs",meta:{requiresAuth:!0},component:o("Staffs")},{path:"staff-detail/:id",name:"staff-detail",meta:{requiresAuth:!0},component:o("StaffDetail")},{path:"support/",name:"support",meta:{requiresAuth:!0},component:o("Support")},{path:"reports",name:"reports",meta:{requiresAuth:!0},component:o("Reports")},{path:"notice",name:"notice",meta:{requiresAuth:!0},component:o("Notice")},{path:"complaint",name:"complaint",meta:{requiresAuth:!0},component:o("Complaint")},{path:"complaintchat/:id",name:"complaintchat",meta:{requiresAuth:!0},component:o("ComplaintComment")},{path:"check-in",name:"check-in",meta:{requiresAuth:!0},component:o("CheckIn")}]},{path:"*",component:o("Error404")}]})},170:function(e,t,a){"use strict";function o(e,t){var a=e.bed_reservations.reduce(function(a,o){if(o.pg_id==e.selected_pg.pk&&("all"==t||"paid"==t&&1==o.is_paid||"unpaid"==t&&0==o.is_paid||"vacant"==t&&1==o.is_vacant||"occupied"==t&&0==o.is_vacant)){if(!(o.floor in a)){var n={paid_count:0,occupied_count:0,vacant_count:0,total_beds:0,rooms:{},floor:o.floor};a.push(a[o.floor]=n)}if(a[o.floor].total_beds+=1,o.is_vacant?a[o.floor].vacant_count+=1:(a[o.floor].occupied_count+=1,o.is_paid&&(a[o.floor].paid_count+=1)),!(o.room_name in a[o.floor].rooms)){var s={paid_count:0,occupied_count:0,vacant_count:0,total_beds:0,room_name:o.room_name,inner_rooms:{}};a[o.floor].rooms[o.room_name]=s}if(a[o.floor].rooms[o.room_name].total_beds+=1,o.is_vacant?a[o.floor].rooms[o.room_name].vacant_count+=1:(a[o.floor].rooms[o.room_name].occupied_count+=1,o.is_paid&&(a[o.floor].rooms[o.room_name].paid_count+=1)),!(o.room_id in a[o.floor].rooms[o.room_name].inner_rooms)){var r={paid_count:0,occupied_count:0,vacant_count:0,total_beds:0,room_id:o.room_id,room_name:o.room_name,room_inner_name:o.room_inner_name?o.room_inner_name:o.room_name,beds:[]};a[o.floor].rooms[o.room_name].inner_rooms[o.room_id]=r}a[o.floor].rooms[o.room_name].inner_rooms[o.room_id].total_beds+=1,o.is_vacant?a[o.floor].rooms[o.room_name].inner_rooms[o.room_id].vacant_count+=1:(a[o.floor].rooms[o.room_name].inner_rooms[o.room_id].occupied_count+=1,o.is_paid&&(a[o.floor].rooms[o.room_name].inner_rooms[o.room_id].paid_count+=1)),a[o.floor].rooms[o.room_name].inner_rooms[o.room_id].beds.push(o)}return a},[]),o=[];return a.forEach(function(e){var t={occupied_count:e.occupied_count,paid_count:e.paid_count,total_beds:e.total_beds,vacant_count:e.vacant_count,floor:e.floor,rooms:[]};for(var a in e.rooms){var n=e.rooms[a];if(n){var s={room_name:n.room_name,occupied_count:n.occupied_count,paid_count:n.paid_count,total_beds:n.total_beds,vacant_count:n.vacant_count,floor:e.floor,inner_rooms:[]};for(var r in n.inner_rooms){var i=n.inner_rooms[r];i&&(i.beds.sort(function(e,t){return t.bed_name-e.bed_name}),s.inner_rooms.push(i))}t.rooms.push(s)}}o.push(t)}),o}a.d(t,"a",function(){return r});var n=a(6),s=a(241);n.a.use(s.a);var r=new s.a.Store({state:{selected_pg:{},selected_pg_options:[],my_pgs:[],reservation_payments:[],denormalized_beds:[],bed_reservations:[],checkin_obj:{}},getters:{pg_detail:function(e,t,a){return o(e,"all")},paid_pg_detail:function(e){return o(e,"paid")},unpaid_pg_detail:function(e){return o(e,"unpaid")},vacant_pg_detail:function(e){return o(e,"vacant")},occupied_pg_detail:function(e){return o(e,"occupied")},checkin_obj:function(e){return e.checkin_obj}},mutations:{selected_pg:function(e,t){e.selected_pg=t},denormalized_beds:function(e,t){e.denormalized_beds=t},bed_reservations:function(e,t){e.bed_reservations=t},reservation_payments:function(e,t){e.reservation_payments=t},update_bed_in_bed_reservation:function(e,t){e.bed_reservations.some(function(a,o){if(t.bed_id==a.bed_id){var s=e.bed_reservations[o];return s.current_reservation=t.reservation,t.reservation?(s.is_paid=t.reservation.is_paid,s.is_vacant=!1):s.is_vacant=!0,n.a.set(e.bed_reservations,o,s),o}})},checkin_obj:function(e,t){console.log(e,t);var a={name:t.account.full_name,phone_number:t.account.username,email:t.account.email,plan:"MO",deposit_amount:"",secondary_phone:t.account.tenant_profile.secondary_phone,job:t.account.tenant_profile.job,amount_per_plan:"",check_in_pk:t.pk,range:{from:t.check_in_date,to:""}};e.checkin_obj=a}}})},172:function(e,t){},175:function(e,t,a){a(232);var o=a(177)(a(216),a(237),null,null);e.exports=o.exports},216:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(6),n=a(1),s=(a.n(n),a(240)),r=a.n(s);t.default={beforeCreate:function(){},mounted:function(){if(n.Platform.is.cordova){var e=function(){n.Toast.create("Unable to connect to internet")};document.addEventListener("offline",e,!1)}var t=123,a="1.3.0";n.Platform.is.cordova&&(t=device.uuid,a=a);o.a.use(r.a,{appName:"RoomoyPGInventory",appVersion:a,trackingId:"UA-98345953-1",debug:!0,vueRouter:this.$router,uuid:t}),n.LocalStorage.get.item("user")?(this.$ua.injectGlobalDimension("1",n.LocalStorage.get.item("user").userid),this.$ua.trackEvent("Application","AppOpened",n.LocalStorage.get.item("user").userid)):this.$ua.trackEvent("Application","AppOpened","AnonymousUser")}}},217:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(171),n=a.n(o),s=a(6),r=a(1),i=a.n(r),u=a(169),c=a(168),m=a.n(c),p=a(173),d=a.n(p),l=a(26),_=a(174),h=a(170);a(172),s.a.use(d.a,m.a),s.a.use(i.a),s.a.use(_.a);r.Toast.setDefaults({timeout:4e3});var f={en:{login_page:{phone_number_label:"Enter your Phone Number here",password_label:"Enter your password here",show_password_label:"Show Password",login:"Login"},payments_page:{date:"Date",pg:"PG",amount:"Amount",no_payments:"No Payments Made So Far"},account_page:{name:"Name",phone:"Phone Number",changeLanguage:"Change Language",changePassword:"Change Password"}},ta:{login_page:{phone_number_label:"உங்கள் மொபைல் எண்",password_label:"உங்க கடவுச்சொல்",show_password_label:"கடவுச்சொல்லை காட்டவும்",login:"உள் நுழை"},payments_page:{date:"தேதி",pg:"PG",amount:"தொகை",no_payments:"இதுவரை தொகை ஏதும் செலுத்தவில்லை."},account_page:{name:"பெயர்",phone:"மொபைல் எண்",changeLanguage:"மொழி மாற்ற",changePassword:"கடவுசொல் மாற்ற"}},te:{login_page:{phone_number_label:"Enter your Phone Number here",password_label:"Enter your password here",show_password_label:"Show Password",login:"Login"},payments_page:{date:"Date",pg:"PG",amount:"Amount",no_payments:"No Payments Made So Far"}},ka:{login_page:{phone_number_label:"Enter your Phone Number here",password_label:"Enter your password here",show_password_label:"Show Password",login:"Login"},payments_page:{date:"Date",pg:"PG",amount:"Amount",no_payments:"No Payments Made So Far"}}},g=r.LocalStorage.get.item("language");g||(g="en");var v=new _.a({locale:g,messages:f}),j=a(176);s.a.use(j,{accessToken:"d4148125ee634fcb9b26e14861f92435"}),s.a.axios.interceptors.request.use(function(e){if(r.Platform.is.cordova){if(navigator.connection.type==Connection.NONE)return r.Toast.create("Unable to connect to Internet"),r.Loading.hide(),n.a.reject()}return e},function(e){return n.a.reject(e)}),s.a.axios.interceptors.response.use(function(e){return e},function(e){return"401"==e.response.status&&(l.a.logout(),u.a.replace("/")),n.a.reject(e)}),u.a.beforeEach(function(e,t,a){a(),e.meta.requiresAuth&&(localStorage.getItem("access_token")||a("/")),a()}),l.a.checkAuth(),l.a.getAuthHeaderToSend()&&"JWT null"!=l.a.getAuthHeaderToSend()&&"JWT undefined"!=l.a.getAuthHeaderToSend()&&(s.a.axios.defaults.headers.common.Authorization=l.a.getAuthHeaderToSend()),i.a.start(function(){new s.a({el:"#q-app",router:u.a,store:h.a,i18n:v,render:function(e){return e(a(175))}})})},232:function(e,t){},234:function(e,t,a){function o(e){return a(n(e))}function n(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var s={"./af":46,"./af.js":46,"./ar":53,"./ar-dz":47,"./ar-dz.js":47,"./ar-kw":48,"./ar-kw.js":48,"./ar-ly":49,"./ar-ly.js":49,"./ar-ma":50,"./ar-ma.js":50,"./ar-sa":51,"./ar-sa.js":51,"./ar-tn":52,"./ar-tn.js":52,"./ar.js":53,"./az":54,"./az.js":54,"./be":55,"./be.js":55,"./bg":56,"./bg.js":56,"./bm":57,"./bm.js":57,"./bn":58,"./bn.js":58,"./bo":59,"./bo.js":59,"./br":60,"./br.js":60,"./bs":61,"./bs.js":61,"./ca":62,"./ca.js":62,"./cs":63,"./cs.js":63,"./cv":64,"./cv.js":64,"./cy":65,"./cy.js":65,"./da":66,"./da.js":66,"./de":69,"./de-at":67,"./de-at.js":67,"./de-ch":68,"./de-ch.js":68,"./de.js":69,"./dv":70,"./dv.js":70,"./el":71,"./el.js":71,"./en-au":72,"./en-au.js":72,"./en-ca":73,"./en-ca.js":73,"./en-gb":74,"./en-gb.js":74,"./en-ie":75,"./en-ie.js":75,"./en-il":76,"./en-il.js":76,"./en-nz":77,"./en-nz.js":77,"./eo":78,"./eo.js":78,"./es":81,"./es-do":79,"./es-do.js":79,"./es-us":80,"./es-us.js":80,"./es.js":81,"./et":82,"./et.js":82,"./eu":83,"./eu.js":83,"./fa":84,"./fa.js":84,"./fi":85,"./fi.js":85,"./fo":86,"./fo.js":86,"./fr":89,"./fr-ca":87,"./fr-ca.js":87,"./fr-ch":88,"./fr-ch.js":88,"./fr.js":89,"./fy":90,"./fy.js":90,"./gd":91,"./gd.js":91,"./gl":92,"./gl.js":92,"./gom-latn":93,"./gom-latn.js":93,"./gu":94,"./gu.js":94,"./he":95,"./he.js":95,"./hi":96,"./hi.js":96,"./hr":97,"./hr.js":97,"./hu":98,"./hu.js":98,"./hy-am":99,"./hy-am.js":99,"./id":100,"./id.js":100,"./is":101,"./is.js":101,"./it":102,"./it.js":102,"./ja":103,"./ja.js":103,"./jv":104,"./jv.js":104,"./ka":105,"./ka.js":105,"./kk":106,"./kk.js":106,"./km":107,"./km.js":107,"./kn":108,"./kn.js":108,"./ko":109,"./ko.js":109,"./ky":110,"./ky.js":110,"./lb":111,"./lb.js":111,"./lo":112,"./lo.js":112,"./lt":113,"./lt.js":113,"./lv":114,"./lv.js":114,"./me":115,"./me.js":115,"./mi":116,"./mi.js":116,"./mk":117,"./mk.js":117,"./ml":118,"./ml.js":118,"./mr":119,"./mr.js":119,"./ms":121,"./ms-my":120,"./ms-my.js":120,"./ms.js":121,"./mt":122,"./mt.js":122,"./my":123,"./my.js":123,"./nb":124,"./nb.js":124,"./ne":125,"./ne.js":125,"./nl":127,"./nl-be":126,"./nl-be.js":126,"./nl.js":127,"./nn":128,"./nn.js":128,"./pa-in":129,"./pa-in.js":129,"./pl":130,"./pl.js":130,"./pt":132,"./pt-br":131,"./pt-br.js":131,"./pt.js":132,"./ro":133,"./ro.js":133,"./ru":134,"./ru.js":134,"./sd":135,"./sd.js":135,"./se":136,"./se.js":136,"./si":137,"./si.js":137,"./sk":138,"./sk.js":138,"./sl":139,"./sl.js":139,"./sq":140,"./sq.js":140,"./sr":142,"./sr-cyrl":141,"./sr-cyrl.js":141,"./sr.js":142,"./ss":143,"./ss.js":143,"./sv":144,"./sv.js":144,"./sw":145,"./sw.js":145,"./ta":146,"./ta.js":146,"./te":147,"./te.js":147,"./tet":148,"./tet.js":148,"./tg":149,"./tg.js":149,"./th":150,"./th.js":150,"./tl-ph":151,"./tl-ph.js":151,"./tlh":152,"./tlh.js":152,"./tr":153,"./tr.js":153,"./tzl":154,"./tzl.js":154,"./tzm":156,"./tzm-latn":155,"./tzm-latn.js":155,"./tzm.js":156,"./ug-cn":157,"./ug-cn.js":157,"./uk":158,"./uk.js":158,"./ur":159,"./ur.js":159,"./uz":161,"./uz-latn":160,"./uz-latn.js":160,"./uz.js":161,"./vi":162,"./vi.js":162,"./x-pseudo":163,"./x-pseudo.js":163,"./yo":164,"./yo.js":164,"./zh-cn":165,"./zh-cn.js":165,"./zh-hk":166,"./zh-hk.js":166,"./zh-tw":167,"./zh-tw.js":167};o.keys=function(){return Object.keys(s)},o.resolve=n,e.exports=o,o.id=234},237:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"q-app"}},[a("router-view")],1)},staticRenderFns:[]}},243:function(e,t,a){function o(e){var t=n[e];return t?a.e(t[1]).then(function(){return a(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var n={"./AccountSettings.vue":[257,12],"./Alerts.vue":[258,22],"./Bed.vue":[259,1],"./BedReservations.vue":[260,4],"./CheckIn.vue":[261,11],"./Complaint.vue":[262,37],"./ComplaintComment.vue":[263,36],"./CustomDateTimeRange.vue":[249,38],"./Customize.vue":[264,9],"./CustomizePG.vue":[265,2],"./Dashboard.vue":[266,0],"./Error404.vue":[267,35],"./Expenses.vue":[268,6],"./Index.vue":[269,34],"./Main.vue":[270,26],"./Managers.vue":[271,10],"./Notice.vue":[272,33],"./PGDetail.vue":[273,8],"./PGs.vue":[274,3],"./Payments.vue":[275,21],"./PickBed.vue":[276,28],"./PickRoom.vue":[277,39],"./Reports.vue":[278,23],"./Signup.vue":[279,20],"./Signup2.vue":[280,19],"./StaffDetail.vue":[281,18],"./Staffs.vue":[282,14],"./Support.vue":[283,25],"./UpcomingVacates.vue":[284,32],"./partials/AddExpenseModal.vue":[251,17],"./partials/AddPaymentModal.vue":[252,16],"./partials/BedListModal.vue":[285,31],"./partials/CheckAvailability.vue":[253,7],"./partials/Drawer.vue":[246,27],"./partials/ExpandableCheckIn.vue":[254,30],"./partials/ExpandablePayment.vue":[255,13],"./partials/ExpandableReservation.vue":[250,5],"./partials/GetAvailableBeds.vue":[256,15],"./partials/MonthNavigator.vue":[247,29],"./partials/PaymentListModal.vue":[248,24]};o.keys=function(){return Object.keys(n)},e.exports=o,o.id=243},26:function(e,t,a){"use strict";var o=a(6),n=a(1);a.n(n);t.a={urls:{SITE_URL:"https://www.roomoy.com/"},user:{authenticated:function(){return!!this.getAuthHeader()}},login:function(e,t,a){var s=this;o.a.axios.post(this.urls.SITE_URL+"api-token-auth/",t).then(function(t){n.LocalStorage.set("access_token",t.data.token),n.LocalStorage.set("roles",t.data.roles),n.LocalStorage.set("permissions",t.data.pg_admin_permissions),n.LocalStorage.set("user",{userid:t.data.userid,fullname:t.data.fullname,phone:t.data.phone}),n.LocalStorage.set("language",t.data.language),e.$i18n.locale=t.data.language,o.a.axios.defaults.headers.common.Authorization=s.getAuthHeaderToSend(),s.user.authenticated=!0,a&&e.$router.replace(a),n.Platform.is.cordova&&window.plugins.OneSignal.sendTags({user_id:t.data.userid,realname:t.data.fullname}),e.$ua.trackEvent("Application","AppLoggedIn",t.data.userid),e.$ua.injectGlobalDimension("1",t.data.userid)}).catch(function(t){e.error=t,console.log(t),400==t.response.status?n.Toast.create("Invalid Usename/Password"):n.Toast.create(t.response.status+" "+t.response.statusText)})},signup:function(e,t,a){axios.post(this.urls.SITE_URL+"api/v1/users/",t).then(function(t){a&&e.$router.push(a)}).catch(function(t){e.error=t})},logout:function(){n.LocalStorage.clear(),n.Platform.is.cordova&&window.plugins.OneSignal.deleteTags(["user_id","realname"]),this.user.authenticated=!1},checkAuth:function(){var e=n.LocalStorage.get.item("access_token");this.user.authenticated=!!e},matched:function(e){return this.$route.name==e},getAuthHeader:function(){return n.LocalStorage.get.item("access_token")},getAuthHeaderToSend:function(){return"JWT "+n.LocalStorage.get.item("access_token")}}}},[217]);